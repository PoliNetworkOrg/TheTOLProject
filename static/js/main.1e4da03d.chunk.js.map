{"version":3,"sources":["utils/constants.ts","utils/database.ts","utils/style.ts","components/Util/Button.tsx","components/Util/GeneralPurposeCollapsible.tsx","components/Util/RenderedText.tsx","components/pages/DBPreview.tsx","components/ErrorView.tsx","utils/contexts.ts","components/Footer.tsx","../public/logo3000.webp","components/Header.tsx","components/InfoView/ExtendedCorrection/DocumentHeader.tsx","components/InfoView/ExtendedCorrection/ExtendedCorrection.tsx","components/InfoView/InfoEnd.tsx","components/InfoView/InfoStart.tsx","components/InfoView/InfoView.tsx","../public/telegram_logo.svg","components/pages/About.tsx","components/pages/License.tsx","components/pages/Privacy.tsx","components/QuestionsForm/AnswerForm.tsx","components/QuestionsForm/BottomControls.tsx","components/QuestionsForm/QuestionHeader.tsx","components/Util/CollapsibleText.tsx","components/QuestionsForm/QuestionView.tsx","components/QuestionsForm/RecapBar.tsx","components/QuestionsForm/SectionRecap.tsx","components/QuestionsForm/Timer.tsx","components/QuestionsForm/TopControls.tsx","components/QuestionsForm/QuestionsForm.tsx","components/Util/Separator.tsx","components/Util/Select.tsx","components/pages/QPreview.tsx","components/App.tsx","index.tsx"],"names":["links","sectionInfo","ing","name","order","sample","minutes","coeff","Fraction","mat","com","sub","fis","correctionWeight","getSectionName","key","members","tg","ah","sheetDict","quesiti_ING","quesiti_MAT","quesiti_COM","quesiti_FIS","readDatabase","a","ref","axios","get","data","db","meta","version","packageJson","Error","getImageURL","fileName","theme","baseStyle","fontFamily","color","StyleSheet","styles","fromEntries","Object","entries","map","value","reduce","acc","curr","formatNumber","num","addDecimals","parseFloat","round","toString","toLocaleString","minimumFractionDigits","maximumFractionDigits","replace","create","button","display","fontSize","alignItems","p","marginBlock","margin","icon","leftIcon","compose","this","float","marginRight","rightIcon","Button","props","style","onClick","label","outerDiv","collapsible","background","GeneralPurposeCollapsible","useState","startOpen","isOpen","setOpen","outerDivStyle","trigger","open","onOpen","onClose","easing","contentStyle","children","RenderedText","text","DBPreview","filter","questions","q","id","validated","answers","letter","visibility","correct","ErrorView","hidden","internal","MobileContext","createContext","mobile","container","justifyContent","paddingInline","link","flex","textAlign","mobileStyles","flexDirection","paddingBottom","Footer","useContext","linkStyle","href","target","rel","to","div","height","centeredText","spacer","rightText","logoDiv","gap","textDecoration","logo","buttonDiv","Header","viewState","startsWith","src","alt","undefined","logoLink","DocumentHeader","padding","doc","printButton","alignSelf","centered","li","ul","listStyleType","nowrap","whiteSpace","ExtendedCorrection","useRef","date","Date","documentTitle","content","current","visible","className","resultTable","sort","b","section","values","question","find","result","trim","tableDiv","width","overflow","table","borderSpacing","tableCell","border","tableHeader","fontWeight","backgroundColor","h3","marginBottom","InfoEnd","correctionGrid","secQuestions","notGiven","wrong","forEach","answer","total","length","weight","score","mul","correction","add","testPassed","compare","tengPassed","index","info","toFraction","InfoStart","startTest","InfoView","view","setView","location","useLocation","navigate","useNavigate","pathname","PanelBear","track","liDiv","telegramLink","telegramLogo","About","m","toUpperCase","i","paddingBlock","licenseImg","borderWidth","marginLeft","License","property","Privacy","baseText","radioText","verticalAlign","radioSpan","AnswerForm","letterState","tmpAnswerState","currentQuestion","RadioRow","c","d","e","type","checked","onChange","event","controlsDiv","BottomControls","tmpFlaggedState","flagged","setFlagged","updateAnswer","leftContainer","rightContainer","minWidth","paddingLeft","answerLetter","marginInline","boxShadow","QuestionHeader","questionIndex","currentAnswer","shiftQuestionIndex","innerP","CollapsibleText","longText","split","t","attachment","image","maxHeight","QuestionView","attachments","bordered","borderBottom","barContainer","boxSizing","bar","cellContainer","alignContent","maxWidth","cellSub","selectedCell","outline","RecapBar","sectionQuestions","active","sectionAnswers","AnswerCell","currentQuestionIndexState","selected","paddingTop","SectionRecap","Math","floor","secondsUsed","minimumIntegerDigits","max","goToNextSection","clockWrapper","numbers","borderRadius","expiring","wordWrap","Timer","timer","hours","seconds","innerDiv","TopControls","currentSection","closeSection","testing","QuestionsForm","qIndex","originalSetQIndex","alertDisplayedState","sectionState","setSection","answersState","setAnswers","timeRecordState","timeRecord","setTimeRecord","shouldShowAlert","useEffect","recapBarElement","document","getElementById","clientWidth","maxScroll","minScroll","scrollLeft","showAlert","alert","setQIndex","nextAnswers","nextTR","restart","ignoreAlert","next","shiftQIndex","offset","useTimer","expiryTimestamp","getTimerExpDate","onExpire","nextSection","sortedInfo","findIndex","getNextSection","getViewElement","res","setSeconds","getSeconds","Separator","select","Select","defaultValue","setValue","newValue","disabled","entry","QPreview","questionType","setQuestionType","CustomQ","DatabaseQ","dbRef","setDbRef","dbs","setDbs","setID","then","catch","v","QuestionRender","s","setText","setA","setB","setC","setD","setE","f","routeContainer","App","database","loadDatabase","setQuestions","loadingError","showError","setMobile","includes","validQuestions","resIds","_","shuffle","uniq","slice","selectRandomQuestions","window","innerWidth","addEventListener","Provider","path","element","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.1e4da03d.chunk.js","sourcesContent":["import { section } from './database'\nimport Fraction from 'fraction.js'\n\nexport const links = {\n  githubLicense:\n    'https://github.com/PoliNetworkOrg/TheTOLProject/blob/main/LICENSE',\n  githubSource: 'https://github.com/PoliNetworkOrg/TheTOLProject/',\n  polinetwork: 'https://polinetwork.org',\n  privacyPanelbear: 'https://panelbear.com/cookie-free-analytics/',\n  telegramPreparazioneTOL: 'https://t.me/joinchat/_zugEikozmcyMzA0',\n  telegramTheTOLProject: 'https://t.me/+amLdTd-EoHw1MWRk'\n}\n\ninterface sectionInfoElement {\n  /** The readable name of the section */\n  name: string\n  /** The order in which the section should be tested */\n  order: number\n  /** The number of questions that should be selected */\n  sample: number\n  /** The number of sub-questions that should be selected (only applies to 'com') */\n  sub?: number\n  /** The maximum number of minutes that the user can use to complete a section */\n  minutes: number\n  /** The weight that this section's score has on the total score ({@link testTotalScore}) */\n  coeff: number | Fraction\n}\n\nexport const sectionInfo: Record<section, sectionInfoElement> = {\n  ing: {\n    name: 'Inglese',\n    order: 1,\n    sample: 30,\n    minutes: 15,\n    coeff: new Fraction('1/3')\n  },\n  mat: {\n    name: 'Matematica',\n    order: 2,\n    sample: 25,\n    minutes: 75,\n    coeff: 2.6\n  },\n  com: {\n    name: 'Comprensione verbale',\n    order: 3,\n    sample: 1,\n    sub: 5,\n    minutes: 10,\n    coeff: 3\n  },\n  fis: {\n    name: 'Fisica',\n    order: 4,\n    sample: 5,\n    minutes: 10,\n    coeff: 2\n  }\n}\n\nexport const testTotalScore = 100\n/** Minimum score to pass the test */\nexport const testPassThreshold = 60\n/** Minimum number of correct questions to pass the test */\nexport const tengPassThreshold = 24\n/** How to weight answer when calculating the section score */\nexport const correctionWeight = {\n  correct: 1,\n  wrong: -0.25,\n  notGiven: 0\n}\n\nexport function getSectionName(key: section) {\n  return sectionInfo[key].name\n}\n\nexport function getNextSection(currentSection: section): section | undefined {\n  const sortedInfo = Object.entries(sectionInfo).sort(\n    (a, b) => a[1].order - b[1].order\n  ) as [section, sectionInfoElement][]\n  const i = sortedInfo.findIndex((e) => e[0] == currentSection)\n  return (sortedInfo[i + 1] || [])[0]\n}\n\ninterface Member {\n  name: string\n  tg: string\n  ah?: boolean\n}\n\nexport const members: Member[] = [\n  {\n    name: 'Gabriele Zanini',\n    tg: 'zagbc'\n  },\n  {\n    name: 'Federico Grandi',\n    tg: 'federico_grandi'\n  },\n  {\n    name: 'Ilaria Corcelli',\n    tg: 'iilaria01'\n  },\n  {\n    name: 'Matteo Salicandro',\n    tg: 'Mattysal'\n  },\n  {\n    name: 'Nicolas Facchin',\n    tg: 'RollyNoka'\n  },\n  {\n    name: 'Elia Maggioni',\n    tg: 'EliaMaggioni',\n    ah: true\n  },\n  {\n    name: 'Diego Aldarese',\n    tg: 'diegoaldarese',\n    ah: true\n  }\n]\n","import axios from 'axios'\nimport fromEntries from 'fromentries'\nimport _ from 'underscore'\nimport packageJson from '../../package.json'\nimport { sectionInfo } from './constants'\n\nexport const sheetDict = {\n  quesiti_ING: 'ing',\n  quesiti_MAT: 'mat',\n  quesiti_COM: 'com',\n  quesiti_FIS: 'fis'\n} as const\nexport type section = typeof sheetDict[keyof typeof sheetDict]\n\nexport type answerLetter = 'a' | 'b' | 'c' | 'd' | 'e'\n\nexport interface Question {\n  id: string\n  text: string\n  answers: Record<answerLetter, string>\n  correct: answerLetter\n  attachments: string[]\n  validated: boolean\n\n  // These are only present for COM questions\n  sub?: string\n  track?: string\n}\n\nexport type QuestionsData = Record<section, Question[]>\n\nexport interface Database extends QuestionsData {\n  meta: {\n    version: string\n  }\n}\n\nexport async function readDatabase(ref = 'stable') {\n  const db = (\n    await axios.get(\n      `https://raw.githubusercontent.com/PoliNetworkOrg/TheTOLProjectData/${ref}/database.json`\n    )\n  )?.data as Database\n\n  if (db?.meta?.version != packageJson.version)\n    throw new Error(\n      `Database version doesn't match application.\\nDatabase: ${db?.meta?.version}\\nApp: ${packageJson.version}`\n    )\n\n  return db\n}\n\nexport function selectRandomQuestions(db: Database): QuestionsData {\n  return fromEntries(\n    // Manipulate db entries\n    (Object.entries(db) as [section /* or \"meta\" */, Question[]][])\n      // Select only entries associated with a section <=> exclude \"meta\"\n      .filter(([key]) => (Object.values(sheetDict) as string[]).includes(key))\n      .map(([key, questions]) => {\n        // Select only validated questions\n        const validQuestions = questions.filter((q) => q.validated)\n\n        // Get the question ids, remove duplicates, shuffle them, and select the appropriate number of questions.\n        const resIds = _.shuffle(_.uniq(validQuestions.map((v) => v.id))).slice(\n          0,\n          sectionInfo[key].sample\n        )\n\n        // Return only the questions with a selected ID\n        return [\n          key,\n          _.shuffle(validQuestions.filter((q) => resIds.includes(q.id)))\n        ]\n      })\n  ) as QuestionsData\n}\n\nexport function getImageURL(fileName: string, ref = 'stable') {\n  return `https://raw.githubusercontent.com/PoliNetworkOrg/TheTOLProjectData/${ref}/img/${fileName}`\n}\n","import Fraction from 'fraction.js'\nimport fromEntries from 'fromentries'\nimport React from 'react'\n\nexport const theme = {\n  boxShadow:\n    '1px 0 0 0 #606060, 0 1px 0 0 #606060, 1px 1px 0 0 #606060, /* corner */ 1px 0 0 0 #606060 inset, 0 1px 0 0 #606060 inset',\n  lightBackground: '#F3F3EE',\n  lightBorder: '#D5DFE4',\n  primary: '#069',\n  questionYellow: 'yellow',\n  questionGreen: '#00D700',\n  softBlack: '#333',\n  timerGreen: '#009527',\n  timerRed: 'red'\n}\n\nexport const baseStyle: React.CSSProperties = {\n  fontFamily: 'Verdana, Roboto',\n  color: theme.softBlack\n}\n\ntype CSSProperties = {\n  [key: string]: React.CSSProperties\n}\n\n/** Basic implementation of the StyleSheet class present in React Native */\nexport class StyleSheet {\n  static create<Styles extends CSSProperties>(styles: Styles): Styles {\n    return fromEntries(\n      Object.entries(styles).map(([key, value]) => [\n        key,\n        { ...baseStyle, ...value }\n      ])\n    ) as Styles\n  }\n\n  static compose(\n    ...styles: (React.CSSProperties | undefined | false)[]\n  ): React.CSSProperties {\n    return styles.reduce(\n      (acc, curr) => ({ ...acc, ...(curr || {}) }),\n      {}\n    ) as React.CSSProperties\n  }\n}\n\nexport function formatNumber(num: number | Fraction, addDecimals = false) {\n  return (\n    typeof num == 'number'\n      ? num\n      : parseFloat(num.round(addDecimals ? 2 : 0).toString())\n  )\n    .toLocaleString('it-IT', {\n      minimumFractionDigits: addDecimals ? 2 : 0,\n      maximumFractionDigits: 2\n    })\n    .replace(/\\./g, ',')\n}\n","import React from 'react'\nimport { StyleSheet } from '../../utils/style'\n\nconst styles = StyleSheet.create({\n  button: {\n    display: 'flex',\n    fontFamily: ' Arial',\n    fontSize: '9.5pt',\n    alignItems: 'center'\n  },\n  p: {\n    display: 'inline-block',\n    marginBlock: 0,\n    margin: 0,\n    fontFamily: 'Arial'\n  },\n  icon: {\n    display: 'flex'\n  },\n  get leftIcon() {\n    return StyleSheet.compose(this.icon, {\n      float: 'left',\n      marginRight: '2px'\n    })\n  },\n  get rightIcon() {\n    return StyleSheet.compose(this.icon, {\n      float: 'right',\n      marginRight: '2px'\n    })\n  }\n})\n\ninterface ButtonProps {\n  label: string\n  onClick?: () => void\n  style?: React.CSSProperties\n  leftIcon?: () => JSX.Element\n  rightIcon?: () => JSX.Element\n}\n\nexport default function Button(props: ButtonProps) {\n  return (\n    <button\n      style={StyleSheet.compose(styles.button, props.style || {})}\n      onClick={props.onClick}\n    >\n      <span style={styles.leftIcon}>{props.leftIcon && props.leftIcon()}</span>\n      <p style={styles.p}>{props.label}</p>\n      <span style={styles.rightIcon}>\n        {props.rightIcon && props.rightIcon()}\n      </span>\n    </button>\n  )\n}\n","import React, { ReactNode, useState } from 'react'\nimport Collapsible from 'react-collapsible'\nimport { StyleSheet, theme } from '../../utils/style'\nimport Button from './Button'\n\nconst styles = StyleSheet.create({\n  outerDiv: {\n    margin: '10px'\n  },\n  collapsible: {\n    background: theme.lightBackground,\n    margin: '5px'\n  }\n})\n\ninterface GeneralPurposeCollapsibleProps {\n  label: string\n  children: ReactNode\n  startOpen?: boolean\n  contentStyle?: React.CSSProperties\n  outerDivStyle?: React.CSSProperties\n  onOpen?: () => void\n  onClose?: () => void\n}\nexport default function GeneralPurposeCollapsible(\n  props: GeneralPurposeCollapsibleProps\n) {\n  const [isOpen, setOpen] = useState(props.startOpen ?? true)\n\n  return (\n    <div style={StyleSheet.compose(styles.outerDiv, props.outerDivStyle)}>\n      <Collapsible\n        trigger={\n          <Button label={props.label} onClick={() => setOpen(!isOpen)} />\n        }\n        open={isOpen}\n        onOpen={props.onOpen}\n        onClose={props.onClose}\n        easing=\"ease-in-out\"\n      >\n        <div style={StyleSheet.compose(styles.collapsible, props.contentStyle)}>\n          {props.children}\n        </div>\n      </Collapsible>\n    </div>\n  )\n}\n","import React from 'react'\nimport Latex from 'react-latex'\n\ninterface RenderedTextProps {\n  text: string\n}\nexport default function RenderedText({ text }: RenderedTextProps) {\n  return <Latex>{text}</Latex>\n}\n","import React from 'react'\nimport { sectionInfo } from '../../utils/constants'\nimport { section, Database, Question } from '../../utils/database'\nimport { baseStyle } from '../../utils/style'\nimport GeneralPurposeCollapsible from '../Util/GeneralPurposeCollapsible'\n\nimport RenderedText from '../Util/RenderedText'\n\ninterface DBPreviewProps {\n  db?: Database\n}\n\nexport default function DBPreview({ db }: DBPreviewProps) {\n  return db ? (\n    <div>\n      {(\n        Object.entries(db).filter(([key]) => key != 'meta') as [\n          section,\n          Question[]\n        ][]\n      ).map(([key, questions]) => (\n        <div key={key} style={baseStyle}>\n          <GeneralPurposeCollapsible\n            label={sectionInfo[key].name}\n            startOpen={false}\n          >\n            <ul>\n              {questions\n                .filter((q) => q.text || key == 'com')\n                .map((q) => (\n                  <li key={key + q.id + (q.sub || '')}>\n                    [{q.id}\n                    {q.sub ? '-' + q.sub : ''}] <RenderedText text={q.text} />\n                    <br />\n                    <p>Valid: {q.validated + ''}</p>\n                    {Object.entries(q.answers).map(([letter, text]) => (\n                      <p key={letter}>\n                        <span\n                          style={{\n                            visibility:\n                              letter == q.correct ? 'visible' : 'hidden'\n                          }}\n                        >\n                          →{' '}\n                        </span>\n                        <RenderedText text={text} />\n                      </p>\n                    ))}\n                    <br />\n                    <br />\n                  </li>\n                ))}\n            </ul>\n          </GeneralPurposeCollapsible>\n        </div>\n      ))}\n    </div>\n  ) : (\n    <div style={baseStyle}>Loading...</div>\n  )\n}\n","import React from 'react'\n\ninterface ErrorViewProps {\n  hidden: boolean\n  display: string\n  internal?: Error\n}\n\nexport default function ErrorView({\n  hidden,\n  display,\n  internal\n}: ErrorViewProps) {\n  return (\n    <div hidden={hidden}>\n      <h3>{display}</h3>\n      <blockquote>{internal + ''}</blockquote>\n    </div>\n  )\n}\n","import { createContext } from 'react'\n\nexport const MobileContext = createContext({\n  mobile: false\n})\n","import React, { useContext } from 'react'\nimport { Link } from 'react-router-dom'\nimport { links } from '../utils/constants'\nimport { MobileContext } from '../utils/contexts'\nimport { StyleSheet, theme } from '../utils/style'\n\nconst styles = StyleSheet.create({\n  container: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    paddingInline: '15em',\n    margin: '15px',\n    fontSize: '10pt',\n    color: theme.softBlack\n  },\n  link: {\n    display: 'flex',\n    flex: 1,\n    justifyContent: 'center',\n    textAlign: 'center',\n    color: 'inherit',\n    fontSize: '11pt'\n  }\n})\n\nconst mobileStyles = StyleSheet.create({\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingBottom: 16\n  },\n  link: StyleSheet.compose(styles.link, {\n    margin: 2\n  })\n})\n\nexport default function Footer() {\n  const { mobile } = useContext(MobileContext)\n  const linkStyle = mobile ? mobileStyles.link : styles.link\n  return (\n    <div style={mobile ? mobileStyles.container : styles.container}>\n      <a\n        href={links.githubSource}\n        style={linkStyle}\n        target=\"_blank\"\n        rel=\"noreferrer noopener\"\n      >\n        Source\n      </a>\n      <Link to=\"about\" style={linkStyle}>\n        About\n      </Link>\n      <Link to=\"/\" style={linkStyle}>\n        Home\n      </Link>\n      <Link to=\"license\" style={linkStyle}>\n        License\n      </Link>\n      <Link to=\"privacy\" style={linkStyle}>\n        Privacy & cookies\n      </Link>\n    </div>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/logo3000.34b8e2e9.webp\";","import React, { useContext } from 'react'\nimport { StyleSheet } from '../utils/style'\nimport { statePair } from '../utils/types'\nimport { view } from './App'\nimport logo from '../static/logo3000.webp'\nimport { links } from '../utils/constants'\nimport { MobileContext } from '../utils/contexts'\n\nconst styles = StyleSheet.create({\n  div: {\n    height: '70px',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between'\n  },\n  text: {\n    flex: 1,\n    fontSize: '18pt',\n    display: 'inline-block'\n  },\n  get centeredText() {\n    return StyleSheet.compose(this.text, this.spacer, {\n      justifyContent: 'center'\n    })\n  },\n  get rightText() {\n    return StyleSheet.compose(this.text, this.spacer, {\n      justifyContent: 'flex-end',\n      marginRight: 8\n    })\n  },\n  get logoDiv() {\n    return StyleSheet.compose(this.spacer, {\n      alignItems: 'center',\n      gap: '10px',\n      margin: '5px',\n      textDecoration: 'none'\n    })\n  },\n  logo: {\n    height: '60px'\n  },\n  buttonDiv: {\n    display: 'flex',\n    flex: 1,\n    justifyContent: 'flex-end'\n  },\n  spacer: {\n    display: ' flex',\n    flex: 1\n  }\n})\n\ninterface HeaderProps {\n  viewState: statePair<view>\n}\n\nexport default function Header({ viewState }: HeaderProps) {\n  const { mobile } = useContext(MobileContext)\n\n  return (\n    <div style={styles.div}>\n      <a\n        style={StyleSheet.compose(styles.logoDiv, { flex: mobile ? 0 : 1 })}\n        {...(!viewState[0].startsWith('TOL')\n          ? {\n              rel: 'noreferrer noopener',\n              target: '_blank',\n              href: links.polinetwork\n            }\n          : {})}\n      >\n        <img src={logo} alt=\"logo\" style={styles.logo} />\n        {mobile ? undefined : <h1 style={styles.text}>PoliNetwork</h1>}\n      </a>\n      <h1 style={mobile ? styles.rightText : styles.centeredText}>\n        The TOL Project\n      </h1>\n      {mobile ? undefined : <div style={styles.spacer} />}\n    </div>\n  )\n}\n","import React from 'react'\nimport { StyleSheet } from '../../../utils/style'\nimport logo from '../../../static/logo3000.webp'\nimport { links } from '../../../utils/constants'\n\nconst styles = StyleSheet.create({\n  div: {\n    height: '70px',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between'\n  },\n  text: {\n    flex: 1,\n    fontSize: '18pt',\n    display: 'inline-block'\n  },\n  get rightText() {\n    return StyleSheet.compose(this.text, {\n      textAlign: 'right'\n    })\n  },\n  logoLink: {\n    flex: 1,\n    display: 'flex',\n    alignItems: 'center',\n    gap: '10px',\n    margin: '5px',\n    textDecoration: 'none'\n  },\n  logo: {\n    height: '60px'\n  }\n})\n\nexport default function DocumentHeader() {\n  return (\n    <div style={styles.div}>\n      <a\n        style={styles.logoLink}\n        rel=\"noreferrer noopener\"\n        target=\"_blank\"\n        href={links.polinetwork}\n      >\n        <img src={logo} alt=\"logo\" style={styles.logo} />\n        <h1 style={styles.text}>PoliNetwork</h1>\n      </a>\n      <h1 style={styles.rightText}>The TOL Project</h1>\n    </div>\n  )\n}\n","import React, { ReactNode, useRef } from 'react'\nimport ReactToPrint from 'react-to-print'\nimport { Question, QuestionsData, section } from '../../../utils/database'\nimport { AnswersData } from '../../App'\nimport { links, sectionInfo } from '../../../utils/constants'\nimport { StyleSheet, theme } from '../../../utils/style'\nimport RenderedText from '../../Util/RenderedText'\nimport Button from '../../Util/Button'\nimport './ExtendedCorrection.css'\nimport DocumentHeader from './DocumentHeader'\n\nconst styles = StyleSheet.create({\n  collapsible: {\n    display: 'flex',\n    flexDirection: 'column',\n    padding: '15px',\n    gap: '10px'\n  },\n  doc: {},\n  printButton: {\n    display: 'inline-flex',\n    alignItems: 'center',\n    flexDirection: 'column',\n    alignSelf: 'center',\n    gap: '5px'\n  },\n  link: {\n    color: theme.primary\n  },\n  centered: {\n    textAlign: 'center'\n  },\n  li: {\n    margin: '10px'\n  },\n  ul: {\n    listStyleType: 'none'\n  },\n  nowrap: { whiteSpace: 'nowrap' }\n})\n\ninterface ExtendedCorrectionProps {\n  answers: AnswersData\n  questions: QuestionsData\n  resultTable: ReactNode\n  visible?: boolean\n}\n\nexport default function ExtendedCorrection(props: ExtendedCorrectionProps) {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const ref = useRef<any>(),\n    date = new Date()\n\n  return (\n    <div style={styles.collapsible}>\n      <div style={styles.printButton}>\n        <ReactToPrint\n          documentTitle={`The TOL Project ${date\n            .toLocaleString()\n            .replace(/\\/|:/g, '-')\n            .replace(/,/g, '')}`}\n          content={() => ref.current}\n          trigger={() => <Button label=\"Salva risultati della simulazione\" />}\n        />\n      </div>\n      <div\n        {...(props.visible ? {} : { className: 'print-only' })}\n        ref={ref}\n        style={styles.doc}\n      >\n        <div>\n          <div className=\"print-only\">\n            <DocumentHeader />\n            <p style={styles.centered}>\n              Simulazione del {date.toLocaleString()}\n            </p>\n            {props.resultTable}\n          </div>\n          <br />\n          Hai delle domande sui quesiti e la loro risoluzione? Falle sul{' '}\n          <a\n            href={links.telegramPreparazioneTOL}\n            target=\"_blank\"\n            rel=\"noreferrer noopener\"\n            style={styles.link}\n          >\n            Gruppo preparazione TOL\n          </a>{' '}\n          di PoliNetwork!\n          <br />\n          Per fare riferimento alla domanda scrivi, assieme al testo, anche l'ID\n          (il numero che trovi fra [] dopo il testo).\n          <br />\n          <br />\n          <br />\n          <span className=\"print-only\">\n            Nelle pagine successive troverai, suddivisi per sezione, i quesiti\n            che ti sono stati proposti con il relativo esito.\n          </span>\n        </div>\n        {(Object.entries(props.questions) as [section, Question[]][])\n          .sort((a, b) => sectionInfo[a[0]].order - sectionInfo[b[0]].order)\n          .map(([section, values]) => (\n            <>\n              <div className=\"page-break\" />\n              <div key={section}>\n                <div>\n                  <b>{sectionInfo[section].name}</b>\n                  <ol>\n                    {values.map((question) => {\n                      const letter = props.answers[section].find(\n                          (a) => a?.id == question.id && a?.sub == question.sub\n                        )?.letter,\n                        result = letter\n                          ? letter == question.correct\n                            ? 'Esatta'\n                            : 'Errata'\n                          : 'Senza risposta'\n\n                      return (\n                        <div key={question.id + (question.sub || 0)}>\n                          <li style={styles.li}>\n                            <RenderedText\n                              text={`\n                            ${question.text} \n                            `.trim()}\n                            />\n                            &emsp;\n                            <u style={styles.nowrap}>{result}</u>{' '}\n                            <ul style={styles.ul}>\n                              {result == 'Errata' && letter && (\n                                <li>\n                                  <RenderedText\n                                    text={`R. data: ${question.answers[letter]}`}\n                                  />\n                                </li>\n                              )}\n                              {result != 'Esatta' && (\n                                <li>\n                                  <RenderedText\n                                    text={`R. esatta: ${\n                                      question.answers[question.correct]\n                                    }`}\n                                  />\n                                </li>\n                              )}\n                            </ul>\n                          </li>\n                        </div>\n                      )\n                    })}\n                  </ol>\n                </div>\n              </div>\n            </>\n          ))}\n      </div>\n    </div>\n  )\n}\n","import Fraction from 'fraction.js'\nimport fromEntries from 'fromentries'\nimport React from 'react'\nimport {\n  correctionWeight,\n  getSectionName,\n  sectionInfo,\n  tengPassThreshold,\n  testPassThreshold,\n  testTotalScore\n} from '../../utils/constants'\nimport { Question, QuestionsData, section } from '../../utils/database'\nimport { formatNumber, StyleSheet, theme } from '../../utils/style'\nimport { AnswersData } from '../App'\nimport ExtendedCorrection from './ExtendedCorrection/ExtendedCorrection'\n\nconst styles = StyleSheet.create({\n  div: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    fontSize: '11pt'\n  },\n  tableDiv: {\n    alignSelf: 'center',\n    width: '100%',\n    overflow: 'auto',\n    display: 'flex',\n    justifyContent: 'center'\n  },\n  table: { borderSpacing: 0 },\n  tableCell: {\n    padding: '5px',\n    paddingInline: '10px',\n    textAlign: 'center',\n    border: `thin solid ${theme.lightBorder}`,\n    borderSpacing: '0px',\n    fontSize: '9.5pt'\n  },\n  get tableHeader() {\n    return StyleSheet.compose(this.tableCell, {\n      fontWeight: 'bold',\n      backgroundColor: theme.lightBackground,\n      textAlign: 'left'\n    })\n  },\n  centeredText: {\n    textAlign: 'center'\n  },\n  p: {\n    padding: '10px',\n    textAlign: 'justify'\n  },\n  resultTable: { display: 'flex', flexDirection: 'column' },\n  h3: {\n    marginBottom: 0,\n    paddingInline: '10px'\n  }\n})\n\ninterface InfoEndProps {\n  answers: AnswersData\n  questions: QuestionsData\n}\nexport default function InfoEnd(props: InfoEndProps) {\n  const { answers, questions } = props\n\n  const correctionGrid = fromEntries(\n    (Object.entries(questions) as [section, Question[]][]).map(\n      ([section, secQuestions]) => {\n        let correct = 0,\n          notGiven = 0,\n          wrong = 0\n\n        secQuestions.forEach((q) => {\n          const answer = answers[section].find(\n            (a) => a && a.id == q.id && a.sub == q.sub\n          )\n\n          if (!answer || !answer.letter) notGiven++\n          else if (answer.letter == q.correct) correct++\n          else wrong++\n        })\n\n        const total = secQuestions.length,\n          sample = sectionInfo[section].sample,\n          sub = sectionInfo[section].sub || 1,\n          weight = sectionInfo[section].coeff\n\n        return [\n          section,\n          {\n            total,\n            correct,\n            notGiven,\n            wrong,\n            weight,\n            score: new Fraction(\n              correctionWeight.correct * correct +\n                correctionWeight.wrong * wrong +\n                correctionWeight.notGiven * notGiven\n            )\n              .div(total)\n              .mul(sample * sub)\n          }\n        ]\n      }\n    )\n  )\n\n  const score = (\n    Object.entries(correctionGrid) as [section, typeof correctionGrid[string]][]\n  )\n    .map(([, correction]) => correction.score.mul(correction.weight))\n    .reduce((acc, curr) => acc.add(curr), new Fraction(0))\n\n  const testPassed = score.compare(testPassThreshold) >= 0,\n    tengPassed = correctionGrid.ing?.correct >= tengPassThreshold\n\n  const resultTable = () => (\n    <div style={styles.resultTable}>\n      <p style={styles.centeredText}>\n        <br />\n        TOL{' '}\n        {testPassed\n          ? `superato${!tengPassed ? ' (OFA TENG)' : ''}`\n          : `non superato: OFA TEST${!tengPassed ? ' + OFA TENG' : ''}`}\n        <br />\n        Punteggio: {formatNumber(score)} / {formatNumber(testTotalScore)} (\n        {formatNumber(score, true)})\n      </p>\n      <br />\n\n      <div style={styles.tableDiv}>\n        <table style={styles.table}>\n          <tr>\n            <td></td>\n            <td style={styles.tableHeader}>Punteggio sezione</td>\n            <td style={styles.tableHeader}>N° quesiti</td>\n            <td style={styles.tableHeader}>Esatti</td>\n            <td style={styles.tableHeader}>Errati</td>\n            <td style={styles.tableHeader}>Senza risposta</td>\n          </tr>\n          {(\n            Object.entries(correctionGrid) as [\n              section,\n              typeof correctionGrid[section]\n            ][]\n          )\n            .sort((a, b) => sectionInfo[a[0]].order - sectionInfo[b[0]].order)\n            .map(([section, correction]) => (\n              <tr key={section}>\n                <td style={styles.tableHeader}>{getSectionName(section)}</td>\n                <td style={styles.tableCell}>\n                  {formatNumber(correction.score, true)}\n                </td>\n                <td style={styles.tableCell}>{correction.total}</td>\n                <td style={styles.tableCell}>{correction.correct}</td>\n                <td style={styles.tableCell}>{correction.wrong}</td>\n                <td style={styles.tableCell}>{correction.notGiven}</td>\n              </tr>\n            ))}\n        </table>\n      </div>\n      <br />\n    </div>\n  )\n\n  return (\n    <div style={styles.div}>\n      {resultTable()}\n\n      <ExtendedCorrection\n        answers={props.answers}\n        questions={props.questions}\n        resultTable={resultTable()}\n      />\n\n      <h3 style={styles.h3}>Come viene calcolato il punteggio</h3>\n      <p style={styles.p}>\n        Il <b>punteggio massimo</b> conseguibile{' '}\n        <b>è di {formatNumber(testTotalScore, true)}</b> e viene espresso fino\n        alla seconda cifra decimale.\n        <br />\n        L'attribuzione di <b>OFA TEST</b> (Obblighi Formativi Aggiunti) avviene\n        quando il punteggio test, arrotondato all'intero più vicino,{' '}\n        <b>è minore di {formatNumber(testPassThreshold)}</b>.<br />\n        L'attribuzione di <b>OFA TENG</b> avviene quando, considerando la sola\n        sezione di {sectionInfo.ing.name}, il numero di risposte corrette{' '}\n        <b>è inferiore a {formatNumber(tengPassThreshold)}</b>.\n        <br />\n        <br />\n        Il <b>punteggio</b> della prova viene calcolato attribuendo:\n        <ul>\n          <li>\n            {formatNumber(correctionWeight.correct)} punto ad ogni risposta\n            esatta\n          </li>\n          <li>\n            {formatNumber(correctionWeight.wrong)} punti ad ogni risposta errata\n          </li>\n          <li>\n            {formatNumber(correctionWeight.notGiven)} punti per ogni risposta\n            non data\n          </li>\n        </ul>\n        e assegnando\n        <ul>\n          {Object.entries(sectionInfo).map(([, info], index) => (\n            <li key={index}>\n              peso{' '}\n              {typeof info.coeff == 'number'\n                ? formatNumber(info.coeff)\n                : info.coeff.toFraction()}{' '}\n              ad ogni quesito di {info.name}\n            </li>\n          ))}\n        </ul>\n        Il <b>punteggio</b> complessivo viene arrotondato all'intero più vicino\n        (es: il punteggio 59,49 viene arrotondato a 59, il punteggio 59,50 a 60)\n      </p>\n    </div>\n  )\n}\n","import React from 'react'\nimport { StyleSheet } from '../../utils/style'\nimport Button from '../Util/Button'\n\nconst styles = StyleSheet.create({\n  div: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    margin: '10px',\n    marginBlock: '16px'\n  },\n  centered: {\n    textAlign: 'center',\n    display: 'block'\n  },\n  buttonDiv: {\n    margin: '16px'\n  }\n})\n\ninterface InfoStartProps {\n  startTest: () => void\n}\nexport default function InfoStart(props: InfoStartProps) {\n  return (\n    <div style={styles.div}>\n      <p>\n        <span style={styles.centered}>DISCLAIMER</span>\n        <br />\n        \"The TOL Project\" (Progetto) non è in alcun modo collegato al\n        Politecnico di Milano ma è gestito gratuitamente da studenti. Gli autori\n        del Progetto non si assumono alcuna responsabilità, né garantiscono\n        espressamente o implicitamente l'accuratezza o l'affidabilità dei\n        contenuti di questo sito ai fini del superamento del test di ammissione\n        del Politecnico di Milano.\n        <br />\n        <br />\n        <span style={styles.centered}>---</span>\n        <br />\n        \"The TOL Project\" (Project) is in no way connected to Politecnico di\n        Milano but is managed free of charge by students. The authors of the\n        Project do not assume any responsibility, nor do they expressly or\n        implicitly guarantee the accuracy or reliability of the contents of this\n        site for the purpose of passing the admission test at Politecnico di\n        Milano.\n      </p>\n      <div style={styles.buttonDiv}>\n        <Button label=\"Inizia il test\" onClick={props.startTest} />\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport { Navigate, useLocation, useNavigate } from 'react-router'\nimport { PanelBear } from '../..'\nimport { QuestionsData } from '../../utils/database'\nimport { statePair } from '../../utils/types'\nimport { AnswersData, view } from '../App'\nimport InfoEnd from './InfoEnd'\nimport InfoStart from './InfoStart'\n\ninterface InfoViewProps {\n  answers: AnswersData\n  questions: QuestionsData\n  viewState: statePair<view>\n}\nexport default function InfoView(props: InfoViewProps) {\n  const [view, setView] = props.viewState,\n    location = useLocation(),\n    navigate = useNavigate()\n\n  if (\n    (location.pathname == '/test' && !view.startsWith('TOL')) ||\n    (location.pathname == '/results' && view != 'INFO-end')\n  ) {\n    setView('INFO-start')\n    return <Navigate to=\"/\" />\n  }\n\n  return view == 'INFO-start' ? (\n    <InfoStart\n      startTest={() => {\n        setView('TOL-testing')\n        navigate('/test')\n        PanelBear.track('TestStart')\n      }}\n    />\n  ) : view == 'INFO-end' ? (\n    <InfoEnd answers={props.answers} questions={props.questions} />\n  ) : (\n    <div />\n  )\n}\n","export default __webpack_public_path__ + \"static/media/telegram_logo.1ca7c840.svg\";","import React from 'react'\nimport { links, members } from '../../utils/constants'\nimport { StyleSheet, theme } from '../../utils/style'\nimport telegramLogo from '../../static/telegram_logo.svg'\n\nconst styles = StyleSheet.create({\n  p: {\n    margin: '20px',\n    textAlign: 'justify'\n  },\n  centered: {\n    textAlign: 'center'\n  },\n  link: {\n    display: 'flex',\n    color: theme.primary,\n    gap: '5px',\n    alignItems: 'center'\n  },\n  liDiv: {\n    display: 'flex',\n    gap: '5px',\n    alignItems: 'center',\n    flexDirection: 'row'\n  },\n  telegramLink: {\n    display: 'flex'\n  },\n  telegramLogo: {\n    height: '17.5px'\n  }\n})\n\nexport default function About() {\n  return (\n    <>\n      <p style={styles.p}>\n        Per poter essere ammessi alla scuola di Ingegneria del Politecnico di\n        Milano (PoliMi), le aspiranti matricole devono superare il test di\n        ammissione (TOL).\n        <br />\n        Tra le risorse che il PoliMi offre gratuitamente per prepararsi abbiamo:\n        il Politest, una raccolta di esercizi commentati e risolti, la DOL, una\n        demo online con un numero ridotto di domande, e due test di\n        autovalutazione completi (pdf con domande, xls con risposte esatte).\n        <br />\n        <br />\n        Non avevamo dunque una simulazione TOL completa e basata sul web, ovvero\n        nello stesso ambiente in cui le future matricole sosterranno il test di\n        ammissione.\n        <br />\n        Ci siamo posti l'obiettivo di creare una simulazione TOL completa e\n        gratuita, al fine di fornire alle aspiranti matricole un ambiente\n        familiare dove esercitarsi, molto simile a quello che incontreranno al\n        test di ammissione.\n        <br />\n        Il progetto è completamente gestito dagli studenti, dallo sviluppo\n        dell'applicazione web alla creazione delle domande TOL.\n      </p>\n      <p style={styles.centered}>---</p>\n      <p style={styles.p}>\n        In order to be admitted to the Engineering school of the Politecnico di\n        Milano (PoliMi), the aspiring freshmen must pass the admission test\n        (TOL).\n        <br />\n        Among the resources that PoliMi offers for free to prepare, you can\n        find: the Politest, a collection of commented and solved exercises, the\n        DOL, an online demo with a limited number of questions, and two complete\n        self-assessment tests (pdf with questions, xls with exact answers).\n        <br />\n        <br />\n        Thus, we did not have a complete, web-based TOL simulation, that is, in\n        the same environment in which the future freshmen will take the\n        admission test.\n        <br />\n        We have set ourself the goal of creating a complete and free TOL\n        simulation, in order to provide aspiring freshmen with a familiar\n        environment in which to practice, very similar to the one they will\n        encounter at the admission test.\n        <br />\n        The project is fully managed by students, from developing the web\n        application to creating the TOL questions.\n      </p>\n      <p style={styles.p}>\n        <br />\n        <b>Team del progetto (Project team)</b>\n        <br />\n        <ul>\n          {members\n            .filter((m) => !m.ah)\n            .sort((a, b) =>\n              a.name.toUpperCase() > b.name.toUpperCase() ? 1 : -1\n            )\n            .map((m, i) => (\n              <li key={i}>\n                <div style={styles.liDiv}>\n                  {m.name}{' '}\n                  <a\n                    href={`https://t.me/${m.tg}`}\n                    target=\"_blank\"\n                    rel=\"noreferrer noopener\"\n                    style={styles.telegramLink}\n                  >\n                    <img src={telegramLogo} style={styles.telegramLogo}></img>\n                  </a>\n                </div>\n              </li>\n            ))}\n        </ul>\n        Ad hoc:\n        <ul>\n          {members\n            .filter((m) => !!m.ah)\n            .sort((a, b) =>\n              a.name.toUpperCase() > b.name.toUpperCase() ? 1 : -1\n            )\n            .map((m, i) => (\n              <li key={i}>\n                <div style={styles.liDiv}>\n                  {m.name}{' '}\n                  <a\n                    href={`https://t.me/${m.tg}`}\n                    target=\"_blank\"\n                    rel=\"noreferrer noopener\"\n                    style={styles.telegramLink}\n                  >\n                    <img src={telegramLogo} style={styles.telegramLogo}></img>\n                  </a>\n                </div>\n              </li>\n            ))}\n        </ul>\n        <br />\n        <b>Gruppi di supporto (Support groups)</b>\n        <ul>\n          <li>\n            <div style={styles.liDiv}>\n              Segnalazioni e informazioni sul progetto (Project feedback &\n              info):{' '}\n              <a\n                href={links.telegramTheTOLProject}\n                target=\"_blank\"\n                rel=\"noreferrer noopener\"\n                style={styles.link}\n              >\n                The TOL Project{' '}\n                <span style={styles.telegramLink}>\n                  <img src={telegramLogo} style={styles.telegramLogo}></img>\n                </span>\n              </a>\n            </div>\n          </li>\n          <li>\n            <div style={styles.liDiv}>\n              Quesiti TOL e loro risoluzione (TOL questions and their\n              resolution):{' '}\n              <a\n                href={links.telegramPreparazioneTOL}\n                target=\"_blank\"\n                rel=\"noreferrer noopener\"\n                style={styles.link}\n              >\n                Gruppo preparazione TOL{' '}\n                <span style={styles.telegramLink}>\n                  <img src={telegramLogo} style={styles.telegramLogo}></img>\n                </span>\n              </a>\n            </div>\n          </li>\n        </ul>\n      </p>\n    </>\n  )\n}\n","import React from 'react'\nimport { links } from '../../utils/constants'\nimport { StyleSheet } from '../../utils/style'\n\nconst styles = StyleSheet.create({\n  div: {\n    paddingBlock: '15px'\n  },\n  centered: {\n    textAlign: 'center'\n  },\n  licenseImg: {\n    borderWidth: 0,\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    display: 'block'\n  }\n})\n\nexport function License() {\n  return (\n    <div style={styles.div}>\n      <a\n        rel=\"license noreferrer noopener\"\n        href=\"https://creativecommons.org/licenses/by-sa/4.0/\"\n        target=\"_blank\"\n      >\n        <img\n          alt=\"Creative Commons License\"\n          style={styles.licenseImg}\n          src=\"https://i.creativecommons.org/l/by-sa/4.0/88x31.png\"\n        />\n      </a>\n      <p>\n        <span\n          {...{ 'xmlns:dct': 'https://purl.org/dc/terms/' }}\n          property=\"dct:title\"\n        >\n          The TOL Project\n        </span>{' '}\n        by{' '}\n        <a\n          {...{ 'xmlns:cc': 'https://creativecommons.org/ns#' }}\n          href=\"https://polinetwork.org/it/projects/\"\n          property=\"cc:attributionName\"\n          rel=\"cc:attributionURL noreferrer noopener\"\n          target=\"_blank\"\n        >\n          PoliNetwork\n        </a>{' '}\n        è rilasciato sotto una licenza{' '}\n        <a\n          rel=\"license noreferrer noopener\"\n          href=\"https://creativecommons.org/licenses/by-sa/4.0/\"\n          target=\"_blank\"\n        >\n          Creative Commons Attribution-ShareAlike 4.0 International License\n        </a>\n        . Permessi che vanno oltre l'ambito di questa licenza posso essere\n        disponibili{' '}\n        <a\n          {...{ 'xmlns:cc': 'https://creativecommons.org/ns#' }}\n          href={links.githubLicense}\n          rel=\"cc:morePermissions noreferrer noopener\"\n          target=\"_blank\"\n        >\n          qui\n        </a>\n        .\n      </p>\n      <p style={styles.centered}>---</p>\n      <p>\n        <span\n          {...{ 'xmlns:dct': 'https://purl.org/dc/terms/' }}\n          property=\"dct:title\"\n        >\n          The TOL Project\n        </span>{' '}\n        by{' '}\n        <a\n          {...{ 'xmlns:cc': 'https://creativecommons.org/ns#' }}\n          href=\"https://polinetwork.org/it/projects/\"\n          property=\"cc:attributionName\"\n          rel=\"cc:attributionURL noreferrer noopener\"\n          target=\"_blank\"\n        >\n          PoliNetwork\n        </a>{' '}\n        is licensed under a{' '}\n        <a\n          rel=\"license noreferrer noopener\"\n          href=\"https://creativecommons.org/licenses/by-sa/4.0/\"\n          target=\"_blank\"\n        >\n          Creative Commons Attribution-ShareAlike 4.0 International License\n        </a>\n        . Permissions beyond the scope of this license may be available{' '}\n        <a\n          {...{ 'xmlns:cc': 'https://creativecommons.org/ns#' }}\n          href={links.githubLicense}\n          rel=\"cc:morePermissions noreferrer noopener\"\n          target=\"_blank\"\n        >\n          here\n        </a>\n        .\n      </p>\n    </div>\n  )\n}\n","import React from 'react'\nimport { links } from '../../utils/constants'\nimport { StyleSheet } from '../../utils/style'\n\nconst styles = StyleSheet.create({\n  p: { paddingBlock: '15px' },\n  centered: {\n    textAlign: 'center',\n    display: 'block'\n  }\n})\n\nexport default function Privacy() {\n  return (\n    <p style={styles.p}>\n      Questo sito utilizza un tracker non invasivo per tener traccia della sua\n      performance, nel rispetto delle norme GDPR. Il sito non salva nessun\n      cookie permanente: ogni dato trasmesso è in forma anonima e non\n      riconducibile all'utente. Per maggiori informazioni, visita la pagina{' '}\n      <a\n        href={links.privacyPanelbear}\n        target=\"_blank\"\n        rel=\"noreferrer noopener\"\n      >\n        \"Cookie Free Website Analytics\" di PanelBear\n      </a>\n      .\n      <br />\n      <br />\n      <span style={styles.centered}>---</span>\n      <br />\n      This website uses a non-invasive tracker to keep track of its performance,\n      complying with GDPR. The website does not store any permanent cookie:\n      transmitted data is anonymized and not traceable to the user. For more\n      info, check out{' '}\n      <a\n        href={links.privacyPanelbear}\n        target=\"_blank\"\n        rel=\"noreferrer noopener\"\n      >\n        PanelBear's \"Cookie Free Website Analytics\"\n      </a>{' '}\n      web page.\n    </p>\n  )\n}\n","import React from 'react'\nimport { Question } from '../../utils/database'\nimport { StyleSheet } from '../../utils/style'\nimport { statePair } from '../../utils/types'\nimport { Answer } from '../App'\nimport RenderedText from '../Util/RenderedText'\n\nconst styles = StyleSheet.create({\n  baseText: {\n    fontSize: '11pt'\n  },\n  label: {\n    display: 'flex'\n  },\n  radioText: {\n    display: 'flex',\n    fontWeight: 'bold',\n    textAlign: 'center',\n    verticalAlign: 'middle',\n    paddingInline: '10px'\n  },\n  radioSpan: {\n    width: '2em',\n    float: 'left',\n    display: 'inline-block'\n  }\n})\n\ninterface AnswerFormProps {\n  currentAnswer: Answer | undefined\n  currentQuestion: Question\n  tmpAnswerState: statePair<Answer['letter']>\n}\n\nexport default function AnswerForm(props: AnswerFormProps) {\n  const letterState = props.tmpAnswerState\n\n  if (!props.currentQuestion)\n    return (\n      <span style={styles.baseText}>\n        <br />\n        No answers to display ¯\\_(ツ)_/¯\n      </span>\n    )\n\n  return (\n    <div>\n      <RadioRow\n        letter=\"a\"\n        letterState={letterState}\n        text={props.currentQuestion.answers.a}\n      />\n      <RadioRow\n        letter=\"b\"\n        letterState={letterState}\n        text={props.currentQuestion.answers.b}\n      />\n      <RadioRow\n        letter=\"c\"\n        letterState={letterState}\n        text={props.currentQuestion.answers.c}\n      />\n      <RadioRow\n        letter=\"d\"\n        letterState={letterState}\n        text={props.currentQuestion.answers.d}\n      />\n      <RadioRow\n        letter=\"e\"\n        letterState={letterState}\n        text={props.currentQuestion.answers.e}\n      />\n      <RadioRow letter={undefined} letterState={letterState} text=\"Non so\" />\n    </div>\n  )\n}\n\ninterface RadioRowProps {\n  letter: Answer['letter']\n  letterState: statePair<Answer['letter']>\n  text: string\n}\nfunction RadioRow(props: RadioRowProps) {\n  return (\n    <tr style={styles.baseText}>\n      <label style={styles.label}>\n        <td style={styles.radioText}>\n          <span style={styles.radioSpan}>\n            {props.letter?.toUpperCase() || '?'}{' '}\n          </span>\n          <input\n            type=\"radio\"\n            value={props.letter}\n            checked={props.letter == props.letterState[0]}\n            onChange={(event) => {\n              // @ts-expect-error The value is correct\n              props.letterState[1](event.target.value || undefined)\n            }}\n          />\n        </td>\n        <td>\n          <RenderedText text={props.text} />\n        </td>\n      </label>\n    </tr>\n  )\n}\n","import React from 'react'\nimport { StyleSheet, theme } from '../../utils/style'\nimport { FaCheck } from 'react-icons/fa'\nimport Button from '../Util/Button'\nimport { statePair } from '../../utils/types'\nimport { Answer } from '../App'\nimport { Question } from '../../utils/database'\n\nconst styles = StyleSheet.create({\n  controlsDiv: {\n    display: 'flex',\n    flex: 1,\n    justifyContent: 'flex-end',\n    fontSize: '9.5pt',\n    verticalAlign: 'middle',\n    gap: '10px',\n    paddingBlock: '10px'\n  },\n  label: { display: 'flex', alignItems: 'center' },\n  icon: { color: theme.timerGreen }\n})\n\ninterface BottomControlsProps {\n  currentQuestion: Question\n  tmpAnswerState: statePair<Answer['letter']>\n  tmpFlaggedState: statePair<boolean>\n  updateAnswer: (updatedAnswer: Answer) => void\n}\nexport default function BottomControls(props: BottomControlsProps) {\n  const [flagged, setFlagged] = props.tmpFlaggedState\n\n  if (!props.currentQuestion) return <div style={styles.controlsDiv} />\n\n  return (\n    <div style={styles.controlsDiv}>\n      <label style={styles.label}>\n        <input\n          type=\"checkbox\"\n          checked={flagged}\n          onChange={() => {\n            setFlagged(!flagged)\n          }}\n        />\n        <span>Da rivedere</span>\n      </label>\n      <Button\n        label=\"Conferma e vai alla successiva\"\n        leftIcon={() => <FaCheck style={styles.icon} />}\n        onClick={() => {\n          props.updateAnswer({\n            id: props.currentQuestion.id,\n            sub: props.currentQuestion.sub,\n            letter: props.tmpAnswerState[0],\n            flagged\n          })\n        }}\n      />\n    </div>\n  )\n}\n","import React, { useContext } from 'react'\nimport { Question } from '../../utils/database'\nimport { StyleSheet, theme } from '../../utils/style'\nimport { Answer } from '../App'\nimport { IoMdArrowRoundBack, IoMdArrowRoundForward } from 'react-icons/io'\nimport Button from '../Util/Button'\nimport { MobileContext } from '../../utils/contexts'\n\nconst styles = StyleSheet.create({\n  container: {\n    display: 'flex',\n    justifyContent: 'space-between'\n  },\n  leftContainer: {\n    display: 'flex'\n  },\n  rightContainer: {\n    display: 'flex',\n    padding: '1em',\n    gap: '5px'\n  },\n  p: {\n    textAlign: 'left',\n    fontSize: '11pt',\n    minWidth: '4em',\n    padding: '7.5px'\n  },\n  get question() {\n    return StyleSheet.compose(this.p, {\n      fontWeight: 'bold',\n      width: '7.1em',\n      paddingLeft: 0\n    })\n  },\n  get answerLetter() {\n    return StyleSheet.compose(this.p, {\n      textAlign: 'center',\n      marginInline: '5px',\n      boxShadow: theme.boxShadow\n    })\n  },\n  icon: {\n    height: '17.5px',\n    width: '17.5px',\n    color: theme.primary\n  },\n  button: {\n    paddingBlock: 0\n  }\n})\n\nconst mobileStyles = StyleSheet.create({\n  container: StyleSheet.compose(styles.container, {\n    flexDirection: 'column-reverse'\n  }),\n  rightContainer: StyleSheet.compose(styles.rightContainer, {\n    justifyContent: 'space-between'\n  })\n})\n\ninterface QuestionHeaderProps {\n  currentAnswer: Answer\n  questionIndex: number\n  sectionQuestions: Question[]\n  shiftQuestionIndex: (offset: number) => void\n}\nexport default function QuestionHeader(props: QuestionHeaderProps) {\n  const { mobile } = useContext(MobileContext)\n  return (\n    <div style={mobile ? mobileStyles.container : styles.container}>\n      <div style={styles.leftContainer}>\n        <p style={styles.question}>Domanda {props.questionIndex + 1}</p>\n        <p\n          style={StyleSheet.compose(styles.answerLetter, {\n            backgroundColor: props.currentAnswer?.flagged\n              ? theme.questionYellow\n              : props.currentAnswer?.letter\n              ? theme.questionGreen\n              : 'inherit'\n          })}\n        >\n          {(props.currentAnswer?.letter?.toUpperCase() || '') +\n            (props.currentAnswer?.flagged ? '?' : '') || ' '}\n        </p>\n        <p style={styles.p}>\n          Risposta {props.currentAnswer?.letter ? '' : 'non '}data\n        </p>\n      </div>\n      <div style={mobile ? mobileStyles.rightContainer : styles.rightContainer}>\n        <Button\n          label=\"precedente\"\n          onClick={() => props.shiftQuestionIndex(-1)}\n          style={styles.button}\n          leftIcon={() => <IoMdArrowRoundBack style={styles.icon} />}\n        />\n        <Button\n          label=\"successiva\"\n          onClick={() => props.shiftQuestionIndex(1)}\n          style={styles.button}\n          rightIcon={() => <IoMdArrowRoundForward style={styles.icon} />}\n        />\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport { StyleSheet } from '../../utils/style'\nimport GeneralPurposeCollapsible from './GeneralPurposeCollapsible'\n\nconst styles = StyleSheet.create({\n  p: {\n    margin: '2px',\n    padding: '10px',\n    textAlign: 'justify'\n  },\n  innerP: { padding: '1px', margin: 0 }\n})\n\ninterface CollapsibleTextProps {\n  label: string\n  longText: string\n  startOpen?: boolean\n}\nexport default function CollapsibleText(props: CollapsibleTextProps) {\n  return (\n    <GeneralPurposeCollapsible label={props.label} startOpen={props.startOpen}>\n      <div style={styles.p}>\n        {props.longText\n          .trim()\n          .split('\\n')\n          .map((t, i) => (\n            <p style={styles.innerP} key={i}>\n              {t}\n            </p>\n          ))}\n      </div>\n    </GeneralPurposeCollapsible>\n  )\n}\n","import React from 'react'\nimport { getImageURL, Question } from '../../utils/database'\nimport { StyleSheet } from '../../utils/style'\nimport CollapsibleText from '../Util/CollapsibleText'\nimport GeneralPurposeCollapsible from '../Util/GeneralPurposeCollapsible'\nimport RenderedText from '../Util/RenderedText'\n\nconst styles = StyleSheet.create({\n  container: {\n    marginBlock: 0,\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  collapsible: {\n    padding: '10px',\n    display: 'flex',\n    flexDirection: 'column',\n    gap: '15px'\n  },\n  attachment: {\n    display: 'flex',\n    flexDirection: 'column',\n    gap: '5px'\n  },\n  image: {\n    maxHeight: '500px',\n    width: 'fit-content'\n  }\n})\n\ninterface QuestionViewProps {\n  question: Question\n}\n\nexport default function QuestionView({ question }: QuestionViewProps) {\n  if (!question)\n    return (\n      <span style={styles.container}>No question to display ¯\\_(ツ)_/¯</span>\n    )\n\n  return (\n    <div style={{ marginBottom: question.attachments?.length ? 0 : '15px' }}>\n      {question.track && (\n        <CollapsibleText\n          label=\"mostra/nascondi brano\"\n          longText={question.track}\n        />\n      )}\n      <div style={styles.container}>\n        <RenderedText text={question.text}></RenderedText>\n\n        {question.attachments?.length && (\n          <GeneralPurposeCollapsible\n            label=\"mostra/nascondi immagini\"\n            contentStyle={styles.collapsible}\n          >\n            {question.attachments.map((fileName, index) => (\n              <span key={index + 1} style={styles.attachment}>\n                <p style={styles.container}>Immagine {index + 1}:</p>\n                <img src={getImageURL(fileName)} style={styles.image} />\n              </span>\n            ))}\n          </GeneralPurposeCollapsible>\n        )}\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport { answerLetter, section, QuestionsData } from '../../utils/database'\nimport { StyleSheet, theme } from '../../utils/style'\nimport { statePair } from '../../utils/types'\nimport { AnswersData } from '../App'\n\nconst styles = StyleSheet.create({\n  bordered: {\n    borderBottom: 'thin solid #606060'\n  },\n  barContainer: {\n    width: '100%',\n    boxSizing: 'border-box',\n    overflow: 'auto hidden',\n    padding: '5px 2.5px 5px 0'\n  },\n  bar: {\n    display: 'flex',\n    fontSize: '9.5pt',\n    textDecoration: 'none',\n    color: theme.primary\n  },\n  cellContainer: {\n    display: 'flex',\n    flex: '1 0 25px',\n    flexDirection: 'column',\n    alignContent: 'baseline',\n    textAlign: 'center',\n    maxWidth: '4em',\n    backgroundColor: theme.lightBackground\n  },\n  cellSub: {\n    padding: '0.3em',\n    height: '1.2em',\n    boxShadow: theme.boxShadow\n  },\n  selectedCell: {\n    outline: `5px solid ${theme.primary}`,\n    marginInline: '4px',\n    color: 'black'\n  },\n  p: { margin: 'auto' }\n})\n\ninterface RecapBarProps {\n  active: boolean\n  currentQuestionIndexState: statePair<number>\n  sectionAnswers: AnswersData[section]\n  sectionQuestions: QuestionsData[section]\n}\nexport default function RecapBar(props: RecapBarProps) {\n  return (\n    <div style={styles.barContainer} id=\"recap-bar-container\">\n      <a\n        style={StyleSheet.compose(styles.bar, {\n          minWidth: props.sectionQuestions.length * 25 + 10\n        })}\n        {...(props.active ? { href: '#' } : {})}\n      >\n        {props.sectionQuestions.map((q, i) => {\n          const answer = props.sectionAnswers.find(\n            (a) => a && a.id == q.id && (q.sub ? q.sub == a.sub : true)\n          )\n          return (\n            <AnswerCell\n              key={i}\n              index={i}\n              letter={answer?.letter}\n              flagged={answer?.flagged || false}\n              onClick={() => {\n                if (props.active) props.currentQuestionIndexState[1](i)\n              }}\n              selected={props.active && props.currentQuestionIndexState[0] == i}\n            />\n          )\n        })}\n      </a>\n    </div>\n  )\n}\n\ninterface AnswerCellProps {\n  index: number\n  letter: answerLetter | undefined\n  flagged: boolean\n  onClick: () => void\n  selected: boolean\n}\nfunction AnswerCell(props: AnswerCellProps) {\n  return (\n    <div\n      style={StyleSheet.compose(\n        styles.cellContainer,\n        props.selected && styles.selectedCell\n      )}\n      onClick={props.onClick}\n    >\n      <div\n        style={StyleSheet.compose(\n          styles.cellSub,\n          styles.bordered,\n          props.selected && { fontWeight: 'bold' }\n        )}\n      >\n        <p style={styles.p}>{props.index + 1}</p>\n      </div>\n      <div\n        style={StyleSheet.compose(styles.cellSub, {\n          backgroundColor: props.flagged\n            ? theme.questionYellow\n            : props.letter\n            ? theme.questionGreen\n            : 'white'\n        })}\n      >\n        <p style={styles.p}>\n          {props.letter?.toUpperCase() || ' '}\n          {props.flagged && '?'}\n        </p>\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport { sectionInfo } from '../../utils/constants'\nimport { QuestionsData, section } from '../../utils/database'\nimport { StyleSheet } from '../../utils/style'\nimport { AnswersData } from '../App'\nimport Button from '../Util/Button'\n\nconst styles = StyleSheet.create({\n  container: {\n    display: 'flex',\n    paddingTop: '10px',\n    paddingBottom: '20px',\n    alignItems: 'center',\n    flexDirection: 'column'\n  }\n})\n\ninterface SectionRecapProps {\n  goToNextSection: () => void\n  section: section\n  sectionAnswers: AnswersData[section]\n  sectionQuestions: QuestionsData[section]\n  secondsUsed: number\n}\nexport default function SectionRecap(props: SectionRecapProps) {\n  const info = sectionInfo[props.section]\n\n  return (\n    <div style={styles.container}>\n      <p>\n        Tempo utilizzato:{' '}\n        {Math.floor((props.secondsUsed / 60) % 60).toLocaleString(undefined, {\n          minimumIntegerDigits: 2\n        })}\n        :\n        {Math.floor(props.secondsUsed / 60).toLocaleString(undefined, {\n          minimumIntegerDigits: 2\n        })}\n        :\n        {(props.secondsUsed % 60).toLocaleString(undefined, {\n          minimumIntegerDigits: 2\n        })}{' '}\n        / {Math.floor(info.minutes / 60)}:{info.minutes % 60}:00 (\n        {Math.floor(\n          (info.minutes * 60 - props.secondsUsed) / 60 / 60\n        ).toLocaleString(undefined, {\n          minimumIntegerDigits: 2\n        })}\n        :\n        {Math.floor(\n          ((info.minutes * 60 - props.secondsUsed) / 60) % 60\n        ).toLocaleString(undefined, {\n          minimumIntegerDigits: 2\n        })}\n        :\n        {((info.minutes * 60 - props.secondsUsed) % 60).toLocaleString(\n          undefined,\n          {\n            minimumIntegerDigits: 2\n          }\n        )}{' '}\n        rimanente)\n      </p>\n      <Button\n        label={\n          info.order ==\n          Math.max(...Object.values(sectionInfo).map((i) => i.order))\n            ? 'Vedi esito del test'\n            : 'Prossima sezione'\n        }\n        onClick={props.goToNextSection}\n      />\n    </div>\n  )\n}\n","import React, { useContext } from 'react'\nimport { TimerResult } from 'react-timer-hook'\nimport { StyleSheet, theme } from '../../utils/style'\nimport { FiClock } from 'react-icons/fi'\nimport { MobileContext } from '../../utils/contexts'\n\nconst alertThreshold = 60\n\nconst styles = StyleSheet.create({\n  container: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: '5px'\n  },\n  clockWrapper: {\n    color: theme.timerGreen,\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: '5px'\n  },\n  numbers: {\n    display: 'flex',\n    fontWeight: 'bold',\n    color: 'inherit',\n    border: '2px solid',\n    borderRadius: '4px',\n    height: '1.75em',\n    fontSize: '1.25em',\n    alignItems: 'center',\n    paddingInline: '10px'\n  },\n  expiring: {\n    color: theme.timerRed\n  },\n  icon: {\n    color: 'inherit',\n    height: '2.5em',\n    width: 'auto'\n  },\n  p: {\n    display: 'flex',\n    fontSize: '0.75em',\n    maxWidth: '12em',\n    textAlign: 'left',\n    wordWrap: 'normal'\n  }\n})\n\ninterface TimerProps {\n  timer: TimerResult\n}\nexport default function Timer(props: TimerProps) {\n  const { mobile } = useContext(MobileContext)\n  const { timer } = props\n\n  return (\n    <div\n      style={\n        mobile\n          ? StyleSheet.compose(styles.container, {\n              alignSelf: 'flex-end',\n              marginBottom: '1em'\n            })\n          : styles.container\n      }\n    >\n      <div\n        style={StyleSheet.compose(\n          styles.clockWrapper,\n          (timer.hours * 60 + timer.minutes) * 60 + timer.seconds <\n            alertThreshold && styles.expiring\n        )}\n      >\n        <FiClock style={styles.icon} />\n        <div style={styles.numbers}>\n          {timer.hours.toLocaleString(undefined, {\n            minimumIntegerDigits: 2\n          })}\n          :\n          {timer.minutes.toLocaleString(undefined, {\n            minimumIntegerDigits: 2\n          })}\n          :\n          {timer.seconds.toLocaleString(undefined, { minimumIntegerDigits: 2 })}\n        </div>\n      </div>\n      {mobile ? undefined : (\n        <p style={styles.p}>\n          Tempo rimanente\n          <br /> per la sezione corrente\n        </p>\n      )}\n    </div>\n  )\n}\n","import React, { useContext } from 'react'\nimport { TimerResult } from 'react-timer-hook'\nimport { getSectionName } from '../../utils/constants'\nimport { MobileContext } from '../../utils/contexts'\nimport { section, QuestionsData } from '../../utils/database'\nimport { StyleSheet } from '../../utils/style'\nimport { AnswersData } from '../App'\nimport Button from '../Util/Button'\nimport Timer from './Timer'\n\nconst styles = StyleSheet.create({\n  outerDiv: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between'\n  },\n  innerDiv: {\n    display: 'flex',\n    alignItems: 'center',\n    flexDirection: 'row',\n    gap: '15px',\n    fontSize: '11pt'\n  }\n})\n\nconst mobileStyles = StyleSheet.create({\n  outerDiv: StyleSheet.compose(styles.outerDiv, {\n    flexDirection: 'column'\n  }),\n  innerDiv: StyleSheet.compose(styles.innerDiv, {\n    width: '100%',\n    justifyContent: 'space-between'\n  })\n})\n\ninterface TopControlsProps {\n  active: boolean\n  answers: AnswersData\n  closeSection: () => void\n  currentSection: section\n  timer: TimerResult\n  questions: QuestionsData\n}\n\nexport default function TopControls(props: TopControlsProps) {\n  const { mobile } = useContext(MobileContext)\n  const { currentSection } = props\n\n  return (\n    <div style={mobile ? mobileStyles.outerDiv : styles.outerDiv}>\n      <div style={mobile ? mobileStyles.innerDiv : styles.innerDiv}>\n        <div>\n          <p>\n            Sezione: <b>{getSectionName(currentSection)}</b> <br />\n            Riposte:{' '}\n            {\n              props.answers[currentSection].filter((a) => !!a.letter).length\n            } / {props.questions[currentSection].length}\n            {mobile && <br />}\n            {props.active &&\n              ` (${props.answers[currentSection].reduce(\n                (acc, curr) => acc + (curr.flagged ? 1 : 0),\n                0\n              )} da rivedere)`}\n          </p>\n        </div>\n        {props.active && (\n          <Button label=\"Chiudi sezione\" onClick={props.closeSection} />\n        )}\n      </div>\n      <Timer timer={props.timer} />\n    </div>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport { useNavigate } from 'react-router'\nimport { useTimer } from 'react-timer-hook'\nimport { PanelBear } from '../..'\nimport { getNextSection, sectionInfo } from '../../utils/constants'\nimport { section, QuestionsData } from '../../utils/database'\nimport { StyleSheet } from '../../utils/style'\nimport { statePair } from '../../utils/types'\nimport { Answer, AnswersData, TimeRecord, view } from '../App'\nimport AnswerForm from './AnswerForm'\nimport BottomControls from './BottomControls'\nimport QuestionHeader from './QuestionHeader'\nimport QuestionView from './QuestionView'\nimport RecapBar from './RecapBar'\nimport SectionRecap from './SectionRecap'\nimport TopControls from './TopControls'\n\nconst styles = StyleSheet.create({\n  testing: { display: 'flex', flexDirection: 'column' }\n})\n\ninterface QuestionsFormProps {\n  answersState: statePair<AnswersData>\n  questions: QuestionsData\n  sectionState: statePair<section>\n  timeRecordState: statePair<TimeRecord>\n  viewState: statePair<view>\n}\nexport default function QuestionsForm(props: QuestionsFormProps) {\n  const [qIndex, originalSetQIndex] = useState(0),\n    tmpFlaggedState = useState(false),\n    tmpAnswerState = useState<Answer['letter']>(),\n    alertDisplayedState = useState(false)\n\n  const [currentSection, setSection] = props.sectionState,\n    [view, setView] = props.viewState,\n    [answers, setAnswers] = props.answersState,\n    [timeRecord, setTimeRecord] = props.timeRecordState\n\n  const sectionQuestions = props.questions[props.sectionState[0]],\n    currentQuestion = sectionQuestions[qIndex],\n    currentAnswer = answers[currentSection][qIndex],\n    shouldShowAlert =\n      !alertDisplayedState[0] &&\n      (tmpAnswerState[0] != currentAnswer?.letter ||\n        tmpFlaggedState[0] != (currentAnswer?.flagged || false))\n\n  useEffect(() => {\n    // called when the qIndex is updated (the user changes question)\n    // sets the scroll of the recap bar container to keep the selected question in view\n    const recapBarElement = document.getElementById('recap-bar-container')\n    if (!recapBarElement) return\n\n    // this width works ok considering margins, widths, and paddings of the elements\n    const width = recapBarElement.clientWidth - 40\n    // 25 is the min width of a question cell, 2px margin to see the cell before\n    const maxScroll = qIndex * 25 - 2\n    const minScroll = maxScroll - width\n\n    // the scrollLeft musth be kept between the two values\n    if (recapBarElement.scrollLeft < minScroll)\n      recapBarElement.scrollLeft = minScroll\n    if (recapBarElement.scrollLeft > maxScroll)\n      recapBarElement.scrollLeft = maxScroll\n  }, [qIndex])\n\n  const showAlert = () => {\n    alert(\n      `Se prima non premi \"Conferma e vai alla successiva\" la risposta non verrà salvata.`\n    )\n    alertDisplayedState[1](true)\n  }\n\n  const closeSection = () => {\n    if (shouldShowAlert) return showAlert()\n    // else it's already reset by setQIndex\n\n    setView('TOL-secRecap')\n    setQIndex(0)\n    tmpAnswerState[1](undefined)\n    tmpFlaggedState[1](false)\n\n    const nextAnswers = answers\n    nextAnswers[currentSection] = nextAnswers[currentSection].map((a) => ({\n      ...a,\n      flagged: false\n    }))\n    setAnswers(nextAnswers)\n\n    const nextTR = timeRecord\n    nextTR[currentSection] =\n      sectionInfo[currentSection].minutes * 60 -\n      ((timer.hours * 60 + timer.minutes) * 60 + timer.seconds)\n    setTimeRecord(nextTR)\n\n    timer.restart(new Date(), false)\n  }\n\n  const setQIndex = (\n    index: React.SetStateAction<number>,\n    ignoreAlert = false\n  ) => {\n    if (shouldShowAlert && !ignoreAlert) {\n      showAlert()\n    } else {\n      const next = answers[currentSection][index as number]\n\n      tmpFlaggedState[1](next?.flagged || false)\n      tmpAnswerState[1](next?.letter || undefined)\n      alertDisplayedState[1](false)\n\n      originalSetQIndex(index)\n    }\n  }\n\n  const shiftQIndex = (offset: number, ignoreAlert = false) => {\n    const next =\n      (qIndex + offset + sectionQuestions.length) % sectionQuestions.length || 0\n    return setQIndex(next, ignoreAlert)\n  }\n\n  const timer = useTimer({\n    expiryTimestamp: getTimerExpDate(sectionInfo[currentSection].minutes),\n    onExpire: () => {\n      timer.seconds = 0\n      closeSection()\n    }\n  })\n\n  const currentQuestionIndexState: statePair<number> = [qIndex, setQIndex]\n  if (!props.questions) return <span>Loading...</span>\n\n  const getViewElement = () => {\n    const navigate = useNavigate()\n\n    if (view == 'TOL-testing')\n      return (\n        <div style={styles.testing}>\n          <QuestionHeader\n            currentAnswer={currentAnswer}\n            questionIndex={qIndex}\n            shiftQuestionIndex={shiftQIndex}\n            sectionQuestions={sectionQuestions}\n          />\n          <QuestionView question={currentQuestion} />\n          <AnswerForm\n            currentAnswer={currentAnswer}\n            currentQuestion={currentQuestion}\n            tmpAnswerState={tmpAnswerState}\n          />\n          <BottomControls\n            currentQuestion={currentQuestion}\n            tmpAnswerState={tmpAnswerState}\n            tmpFlaggedState={tmpFlaggedState}\n            updateAnswer={(a) => {\n              const next = answers\n              next[currentSection][qIndex] = a\n              setAnswers(next)\n              shiftQIndex(1, true)\n            }}\n          />\n        </div>\n      )\n    else if (view == 'TOL-secRecap')\n      return (\n        <SectionRecap\n          goToNextSection={() => {\n            const nextSection = getNextSection(currentSection)\n            if (nextSection) {\n              setSection(nextSection)\n              timer.restart(getTimerExpDate(sectionInfo[nextSection].minutes))\n              setView('TOL-testing')\n            } else {\n              setView('INFO-end')\n              navigate('/results')\n              PanelBear.track('ViewResults')\n            }\n          }}\n          section={currentSection}\n          secondsUsed={timeRecord[currentSection] || 0}\n          sectionAnswers={answers[currentSection]}\n          sectionQuestions={props.questions[currentSection]}\n        />\n      )\n    else return <div />\n  }\n\n  return (\n    <div>\n      <TopControls\n        active={view == 'TOL-testing'}\n        answers={answers}\n        closeSection={() => {\n          closeSection()\n        }}\n        currentSection={currentSection}\n        questions={props.questions}\n        timer={timer}\n      />\n      <RecapBar\n        active={view == 'TOL-testing'}\n        currentQuestionIndexState={currentQuestionIndexState}\n        sectionAnswers={answers[currentSection]}\n        sectionQuestions={sectionQuestions}\n      />\n      {getViewElement()}\n    </div>\n  )\n}\n\nfunction getTimerExpDate(minutes: number) {\n  const res = new Date()\n  res.setSeconds(res.getSeconds() + minutes * 60)\n  return res\n}\n","import React from 'react'\nimport { StyleSheet, theme } from '../../utils/style'\n\nconst styles = StyleSheet.create({\n  div: {\n    height: '15px',\n    backgroundColor: theme.primary\n  },\n  text: {\n    color: 'white',\n    margin: 'auto .5em',\n    fontSize: '9.5pt'\n  }\n})\n\ninterface SeparatorProps {\n  text?: string\n}\nexport default function Separator(props: SeparatorProps) {\n  return (\n    <div style={styles.div}>\n      <p style={styles.text}>{props.text || ''}</p>\n    </div>\n  )\n}\n","import React, { useState } from 'react'\nimport { StyleSheet } from '../../utils/style'\n\nconst styles = StyleSheet.create({\n  select: {\n    display: 'flex',\n    fontFamily: ' Arial',\n    fontSize: '9.5pt',\n    alignItems: 'center'\n  }\n})\n\ninterface SelectEntry {\n  label: string\n  value: string\n}\n\ninterface ButtonProps {\n  defaultValue?: string\n  disabled?: boolean\n  entries: SelectEntry[]\n  label?: string\n  onChange?: (newValue: string) => void\n  style?: React.CSSProperties\n}\n\nexport default function Select(props: ButtonProps) {\n  const [value, setValue] = useState(props.defaultValue)\n\n  return (\n    <label>\n      {props.label || ''}\n      <select\n        value={value}\n        onChange={(e) => {\n          const newValue = e.target.value\n          setValue(newValue)\n          props.onChange && props.onChange(newValue)\n        }}\n        style={styles.select}\n        disabled={props.disabled}\n      >\n        {props.entries.map((entry) => (\n          <option value={entry.value} key={entry.value}>\n            {entry.label}\n          </option>\n        ))}\n      </select>\n    </label>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport {\n  Database,\n  Question,\n  readDatabase,\n  section,\n  sheetDict\n} from '../../utils/database'\nimport { baseStyle } from '../../utils/style'\nimport RenderedText from '../Util/RenderedText'\nimport Select from '../Util/Select'\n\nexport default function QPreview() {\n  const [questionType, setQuestionType] = useState('custom')\n\n  return (\n    <div style={baseStyle}>\n      <Select\n        label=\"Question type\"\n        entries={[\n          { value: 'custom', label: 'Custom' },\n          { value: 'database', label: 'Database' }\n        ]}\n        defaultValue={questionType}\n        onChange={setQuestionType}\n      />\n      {questionType == 'custom' ? <CustomQ /> : <DatabaseQ />}\n    </div>\n  )\n}\n\nfunction DatabaseQ() {\n  const [dbRef, setDbRef] = useState('main')\n  const [dbs, setDbs] = useState({} as Record<string, Database | Error>)\n  const [section, setSection] = useState('')\n  const [id, setID] = useState('')\n\n  useEffect(() => {\n    if (!dbs[dbRef] && !(dbs.dbRef instanceof Error)) {\n      readDatabase(dbRef)\n        .then((db) => {\n          setDbs({ ...dbs, [dbRef]: db })\n        })\n        .catch((e) => {\n          setDbs({ ...dbs, [dbRef]: e })\n        })\n    }\n  }, [dbRef])\n\n  return (\n    <div>\n      <Select\n        label=\"Database\"\n        entries={[\n          { value: 'stable', label: 'Production' },\n          { value: 'main', label: 'Development' }\n        ]}\n        defaultValue={dbRef}\n        onChange={setDbRef}\n      />\n      <Select\n        label=\"Section\"\n        entries={[\n          ...Object.entries(sheetDict).map(([key, value]) => ({\n            label: key,\n            value\n          })),\n          ...(section ? [] : [{ label: '', value: '' }])\n        ]}\n        defaultValue={''}\n        onChange={(v) => {\n          setSection(v)\n          setID('')\n        }}\n        disabled={!dbs[dbRef] || dbs[dbRef] instanceof Error}\n      />\n      <Select\n        label=\"ID\"\n        entries={[\n          ...(dbs[dbRef] && !(dbs[dbRef] instanceof Error) && section\n            ? (dbs[dbRef] as Database)[section as section]\n                .filter((q) => q.id)\n                .map((q) => ({\n                  label: q.id + (q.sub ? ' - ' + q.sub : ''),\n                  value: q.id + (q.sub ? ' - ' + q.sub : '')\n                }))\n            : []),\n          ...[{ label: '', value: '' }]\n        ]}\n        defaultValue={''}\n        onChange={setID}\n        disabled={!dbs[dbRef] || dbs[dbRef] instanceof Error || !section}\n      />\n\n      {!dbs[dbRef] ? (\n        'Loading database...'\n      ) : dbs[dbRef] instanceof Error ? (\n        'Error while loading database:\\n' + dbs[dbRef]\n      ) : section && id ? (\n        QuestionRender({\n          q: (dbs[dbRef] as Database)[section as section].find((q) => {\n            const [i, s] = id.split(' - ')\n            return q.id == i && (s ? q.sub == s : true)\n          })\n        })\n      ) : (\n        <div />\n      )}\n    </div>\n  )\n}\n\nfunction CustomQ() {\n  const [text, setText] = useState('')\n  const [a, setA] = useState('')\n  const [b, setB] = useState('')\n  const [c, setC] = useState('')\n  const [d, setD] = useState('')\n  const [e, setE] = useState('')\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const t = (f: (..._: any[]) => any) => (e: any) => f(e.target.value)\n\n  return (\n    <div>\n      <label>\n        Testo:\n        <br />\n        <textarea value={text} onChange={t(setText)}></textarea>\n      </label>\n      <br />\n\n      <label>\n        A:\n        <br />\n        <textarea value={a} onChange={t(setA)}></textarea>\n      </label>\n      <br />\n\n      <label>\n        B:\n        <br />\n        <textarea value={b} onChange={t(setB)}></textarea>\n      </label>\n      <br />\n\n      <label>\n        C:\n        <br />\n        <textarea value={c} onChange={t(setC)}></textarea>\n      </label>\n      <br />\n\n      <label>\n        D:\n        <br />\n        <textarea value={d} onChange={t(setD)}></textarea>\n      </label>\n      <br />\n\n      <label>\n        E:\n        <br />\n        <textarea value={e} onChange={t(setE)}></textarea>\n      </label>\n      <br />\n      <br />\n      <QuestionRender q={{ text, answers: { a, b, c, d, e } } as Question} />\n    </div>\n  )\n}\n\ninterface QuestionRenderProps {\n  q?: Question\n}\nfunction QuestionRender(props: QuestionRenderProps) {\n  const { q } = props\n\n  return q ? (\n    <div>\n      <RenderedText text={q.text || q.sub || ''} />\n      <br />\n      <p>Valid: {q.validated + ''}</p>\n      {Object.entries(q.answers).map(([letter, text]) => (\n        <p key={letter}>\n          <span\n            style={{\n              visibility: letter == q.correct ? 'visible' : 'hidden'\n            }}\n          >\n            →{' '}\n          </span>\n          <RenderedText text={text} />\n        </p>\n      ))}\n    </div>\n  ) : (\n    <div />\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport { Routes, Route } from 'react-router-dom'\nimport {\n  answerLetter,\n  section,\n  Database,\n  QuestionsData,\n  readDatabase,\n  selectRandomQuestions\n} from '../utils/database'\nimport { StyleSheet } from '../utils/style'\nimport DBPreview from './pages/DBPreview'\nimport ErrorView from './ErrorView'\nimport Footer from './Footer'\nimport Header from './Header'\nimport InfoView from './InfoView/InfoView'\nimport About from './pages/About'\nimport { License } from './pages/License'\nimport Privacy from './pages/Privacy'\nimport QuestionsForm from './QuestionsForm/QuestionsForm'\nimport Separator from './Util/Separator'\nimport QPreview from './pages/QPreview'\n\nimport { MobileContext } from '../utils/contexts'\n\nexport type view = 'INFO-start' | 'TOL-testing' | 'TOL-secRecap' | 'INFO-end'\n\nexport interface Answer {\n  id: string\n  sub?: string\n  letter: answerLetter | undefined\n  flagged: boolean\n}\n\nexport type AnswersData = Record<section, Answer[]>\n\nexport type TimeRecord = Partial<Record<section, number>>\n\nconst styles = StyleSheet.create({\n  routeContainer: { paddingInline: '7.5px' }\n})\n\nexport default function App() {\n  const [database, loadDatabase] = useState<Database>()\n  const [questions, setQuestions] = useState<QuestionsData>()\n  const [view, setView] = useState<view>('INFO-start')\n  const sectionState = useState<section>('ing')\n  const answersState = useState<AnswersData>({\n    ing: [],\n    mat: [],\n    com: [],\n    fis: []\n  })\n  const timeRecordState = useState<TimeRecord>({})\n  const [loadingError, showError] = useState<[string, Error] | []>([])\n  const [mobile, setMobile] = useState<boolean>(false)\n\n  useEffect(() => {\n    if (!database)\n      readDatabase()\n        .then((db) => {\n          loadDatabase(db)\n          setQuestions(selectRandomQuestions(db))\n        })\n        .catch((e) => {\n          showError([\n            'There has been an issue while fetching the database data. Please retry later.',\n            e\n          ])\n        })\n\n    setMobile(window.innerWidth < 768)\n    window.addEventListener('resize', () => {\n      setMobile(window.innerWidth < 768)\n    })\n  }, [])\n\n  return (\n    <MobileContext.Provider value={{ mobile }}>\n      <div>\n        <Header viewState={[view, setView]} />\n        <Separator />\n        <div style={styles.routeContainer}>\n          <Routes>\n            <Route\n              path=\"/\"\n              element={\n                // Don't ever think about moving this to an external component.\n                <div>\n                  <ErrorView\n                    hidden={!loadingError[0]}\n                    display={loadingError[0] || ''}\n                    internal={loadingError[1]}\n                  />\n                  {view.startsWith('TOL') && questions ? (\n                    <QuestionsForm\n                      answersState={answersState}\n                      questions={questions as QuestionsData}\n                      sectionState={sectionState}\n                      timeRecordState={timeRecordState}\n                      viewState={[view, setView]}\n                    />\n                  ) : view.startsWith('INFO') && questions ? (\n                    <InfoView\n                      answers={answersState[0]}\n                      questions={questions}\n                      viewState={[view, setView]}\n                    />\n                  ) : undefined}\n                </div>\n              }\n            >\n              <Route path=\"/test\" element={<div />} />\n              <Route path=\"/results\" element={<div />} />\n            </Route>\n            <Route path=\"/about\" element={<About />} />\n            <Route path=\"/license\" element={<License />} />\n            <Route path=\"/privacy\" element={<Privacy />} />\n            <Route path=\"/dbpreview\" element={<DBPreview db={database} />} />\n            <Route path=\"/qpreview\" element={<QPreview />} />\n          </Routes>\n        </div>\n        <Separator />\n        {!view.startsWith('TOL') && <Footer />}\n      </div>\n    </MobileContext.Provider>\n  )\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { HashRouter } from 'react-router-dom'\nimport * as PanelBear from '@panelbear/panelbear-js'\nexport * as PanelBear from '@panelbear/panelbear-js'\n\nimport App from './components/App'\n\nPanelBear.load('5FyulkL10oK')\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}