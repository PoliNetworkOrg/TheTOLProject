(this["webpackJsonpthe-tol-project"]=this["webpackJsonpthe-tol-project"]||[]).push([[0],{11:function(e){e.exports=JSON.parse('{"name":"the-tol-project","version":"0.0.0","private":true,"homepage":"https://polinetworkorg.github.io/TheTOLProject/","scripts":{"build":"react-scripts build","build:db":"([ -d temp ] || mkdir temp) && ts-node scripts/database.ts","deploy":"gh-pages -d build","eject":"react-scripts eject","exports":"ts-prune -e","lint":"eslint ./src ./scripts","lint:fix":"npm run lint -- --fix","predeploy":"npm run build","start":"react-scripts start","test":"npm run build && npm run lint && npm run exports"},"devDependencies":{"@testing-library/jest-dom":"^5.14.1","@testing-library/react":"^11.2.7","@testing-library/user-event":"^12.8.3","@types/google-spreadsheet":"^3.1.5","@types/jest":"^27.0.2","@types/node":"^16.10.3","@types/react":"^17.0.27","@types/react-dom":"^17.0.9","@types/underscore":"^1.11.3","@typescript-eslint/eslint-plugin":"^4.33.0","@typescript-eslint/parser":"^4.33.0","axios":"^0.23.0","csstype":"^3.0.9","dotenv":"^10.0.0","eslint":"^7.32.0","eslint-config-prettier":"^8.3.0","eslint-plugin-prettier":"^4.0.0","gh-pages":"^3.2.3","google-spreadsheet":"^3.1.15","prettier":"^2.4.1","react":"^17.0.2","react-dom":"^17.0.2","react-icons":"^4.3.1","react-latex":"^2.0.0","react-scripts":"4.0.3","ts-node":"^10.3.0","ts-prune":"^0.10.1","typescript":"^4.4.3","underscore":"^1.13.1","web-vitals":"^1.1.2"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')},57:function(e,t,n){"use strict";n.r(t);var r=n(3),s=n.n(r),i=n(22),c=n.n(i),a=n(4),l=n(10),o=n.n(l),d=n(23),j=n(24),u=n.n(j),b=n(13),x=n(11),p={quesiti_ING:"ing",quesiti_MAT:"mat",quesiti_COM:"com",quesiti_FIS:"fis"};function O(){return(O=Object(d.a)(o.a.mark((function e(){var t,n,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("https://raw.githubusercontent.com/PoliNetworkOrg/TheTOLProject/data/database.json");case 2:if(e.t1=t=e.sent,e.t0=null===e.t1,e.t0){e.next=6;break}e.t0=void 0===t;case 6:if(!e.t0){e.next=10;break}e.t2=void 0,e.next=11;break;case 10:e.t2=t.data;case 11:if((null===(s=e.t2)||void 0===s||null===(n=s.meta)||void 0===n?void 0:n.version)==x.version){e.next=14;break}throw new Error("Database version doesn't match application.\nDatabase: ".concat(null===s||void 0===s||null===(r=s.meta)||void 0===r?void 0:r.version,"\nApp: ").concat(x.version));case 14:return e.abrupt("return",s);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f=n(25),h=n.n(f),v=n(1);function g(e){var t=e.text;return Object(v.jsx)(h.a,{children:t})}function m(e){var t=e.db;return Object(v.jsx)("div",{children:Object.entries(t).filter((function(e){return"meta"!=Object(a.a)(e,1)[0]})).map((function(e){var t=Object(a.a)(e,2),n=t[0],r=t[1];return Object(v.jsxs)("div",{children:[Object(v.jsxs)("h3",{children:["Category: ",n]}),Object(v.jsx)("ul",{children:r.filter((function(e){return e.text||"com"==n})).map((function(e){return Object(v.jsxs)("div",{children:[Object(v.jsx)(g,{text:e.text}),Object(v.jsx)("br",{}),Object(v.jsxs)("p",{children:["Valid: ",e.validated+""]}),Object(v.jsx)("br",{}),Object(v.jsx)(g,{text:e.answers.a}),Object(v.jsx)("br",{}),Object(v.jsx)(g,{text:e.answers.b}),Object(v.jsx)("br",{}),Object(v.jsx)(g,{text:e.answers.c}),Object(v.jsx)("br",{}),Object(v.jsx)(g,{text:e.answers.d}),Object(v.jsx)("br",{}),Object(v.jsx)(g,{text:e.answers.e}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{})]},n+e.id+(e.sub||""))}))})]},n)}))})}function y(e){var t=e.hidden,n=e.display,r=e.internal;return Object(v.jsxs)("div",{hidden:t,children:[Object(v.jsx)("h3",{children:n}),Object(v.jsx)("blockquote",{children:r+""})]})}var w=n(5),S="#069",k="#F3F3EE",C="yellow",I="#00D700",A={fontFamily:"verdana",color:"#333"};function Q(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(w.a)(Object(w.a)({},A),t.reduce((function(e,t){return Object(w.a)(Object(w.a)({},e),t)}),{}))}var q=Q({fontFamily:" Arial",fontSize:"9.5pt",alignItems:"center"}),P=Q({float:"left",marginRight:"2px"}),T=Q({float:"right",marginLeft:"2px"});function z(e){return Object(v.jsxs)("button",{style:q,onClick:e.onClick,children:[Object(v.jsx)("span",{style:P,children:e.leftIcon&&e.leftIcon()}),Object(v.jsx)("span",{children:e.label}),Object(v.jsx)("span",{style:T,children:e.rightIcon&&e.rightIcon()})]})}var D=Q({height:"70px",display:"flex",alignItems:"baseline",justifyContent:"space-between"}),_=Q({fontSize:"18pt",display:"inline-block"});function F(e){var t=e.viewState;return Object(v.jsxs)("div",{style:D,children:[Object(v.jsx)("h1",{style:_,children:"PoliNetwork banner placeholder - The TOL Project"}),Object(v.jsx)(z,{label:"Toggle demo view",onClick:function(){var e=Object(a.a)(t,2),n=e[0],r=e[1];r("dbPreview"==n?"TOL-startSec":"dbPreview")}})]})}var L=Q({fontSize:"11pt"});function N(e){var t=e.tmpAnswerState;return e.currentQuestion?Object(v.jsxs)("div",{children:[Object(v.jsx)(E,{letter:"a",letterState:t,text:e.currentQuestion.answers.a}),Object(v.jsx)(E,{letter:"b",letterState:t,text:e.currentQuestion.answers.b}),Object(v.jsx)(E,{letter:"c",letterState:t,text:e.currentQuestion.answers.c}),Object(v.jsx)(E,{letter:"d",letterState:t,text:e.currentQuestion.answers.d}),Object(v.jsx)(E,{letter:"e",letterState:t,text:e.currentQuestion.answers.e}),Object(v.jsx)(E,{letter:void 0,letterState:t,text:"Non so"})]}):Object(v.jsxs)("span",{style:L,children:[Object(v.jsx)("br",{}),"No answers to display \xaf\\_(\u30c4)_/\xaf"]})}function E(e){var t,n=Q({fontWeight:"bold",textAlign:"center",verticalAlign:"middle",paddingInline:"10px"}),r=Q({width:"2em",float:"left",display:"inline-block"});return Object(v.jsx)("tr",{style:L,children:Object(v.jsxs)("label",{children:[Object(v.jsxs)("td",{style:n,children:[Object(v.jsxs)("span",{style:r,children:[(null===(t=e.letter)||void 0===t?void 0:t.toUpperCase())||"?"," "]}),Object(v.jsx)("input",{type:"radio",value:e.letter,checked:e.letter==e.letterState[0],onChange:function(t){e.letterState[1](t.target.value||void 0)}})]}),Object(v.jsx)("td",{children:Object(v.jsx)(g,{text:e.text})})]})})}var M=n(26),W=Q({display:"flex",flex:1,justifyContent:"flex-end",fontSize:"9.5pt",verticalAlign:"middle",gap:"10px",paddingBlock:"10px"}),B=Q({display:"flex",alignItems:"center"});function J(e){var t=Object(a.a)(e.tmpFlaggedState,2),n=t[0],r=t[1];return e.currentQuestion?Object(v.jsxs)("div",{style:W,children:[Object(v.jsxs)("label",{style:B,children:[Object(v.jsx)("input",{type:"checkbox",checked:n,onChange:function(){r(!n)}}),Object(v.jsx)("span",{children:"Da rivedere"})]}),Object(v.jsx)(z,{label:"Conferma e vai alla successiva",leftIcon:function(){return Object(v.jsx)(M.a,{})},onClick:function(){e.updateAnswer({id:e.currentQuestion.id,sub:e.currentQuestion.sub,letter:e.tmpAnswerState[0],flagged:n})}})]}):Object(v.jsx)("div",{style:W})}var R=n(12),U=Q({display:"flex",justifyContent:"space-between"}),G=Q({display:"flex"}),V=Q({display:"flex",padding:"1em",gap:"5px"}),H=Q({flexGrow:1,flexShrink:1,textAlign:"center",fontSize:"11pt",minWidth:"4em",padding:"7.5px"}),K=Q({height:"17,5px",width:"17,5px"});function X(e){var t,n,r,s,i,c;return Object(v.jsxs)("div",{style:U,children:[Object(v.jsxs)("div",{style:G,children:[Object(v.jsxs)("p",{style:Object(w.a)(Object(w.a)({},H),{},{fontWeight:"bold",width:"11em"}),children:["Domanda ",e.questionIndex+1]}),Object(v.jsx)("p",{style:Object(w.a)(Object(w.a)({},H),{},{backgroundColor:(null===(t=e.currentAnswer)||void 0===t?void 0:t.flagged)?C:(null===(n=e.currentAnswer)||void 0===n?void 0:n.letter)?I:"inherit"}),children:((null===(r=e.currentAnswer)||void 0===r||null===(s=r.letter)||void 0===s?void 0:s.toUpperCase())||"")+((null===(i=e.currentAnswer)||void 0===i?void 0:i.flagged)?"?":"")||" "}),Object(v.jsxs)("p",{style:H,children:["Risposta ",(null===(c=e.currentAnswer)||void 0===c?void 0:c.letter)?"":"non ","data"]})]}),Object(v.jsxs)("div",{style:V,children:[Object(v.jsx)(z,{label:"precedente",onClick:function(){return e.shiftQuestionIndex(-1)},leftIcon:function(){return Object(v.jsx)(R.a,{style:K})}}),Object(v.jsx)(z,{label:"successiva",onClick:function(){return e.shiftQuestionIndex(1)},rightIcon:function(){return Object(v.jsx)(R.b,{style:K})}})]})]})}var Y=Q();function Z(e){var t,n=e.question;return n?Object(v.jsxs)("div",{style:Y,children:[Object(v.jsx)(g,{text:n.text}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("span",{children:(null===(t=n.attachments)||void 0===t?void 0:t.length)?"TODO "+n.attachments.join(", "):""})]}):Object(v.jsx)("span",{style:Y,children:"No question to display \xaf\\_(\u30c4)_/\xaf"})}var $=Q({display:"flex",fontSize:"9.5pt",textDecoration:"none",color:S});function ee(e){return Object(v.jsx)("a",{style:$,href:"#",children:e.sectionQuestions.map((function(t,n){var r=e.sectionAnswers.find((function(e){return e&&e.id==t.id&&(!t.sub||t.sub==e.sub)}));return Object(v.jsx)(ie,{index:n,letter:null===r||void 0===r?void 0:r.letter,flagged:(null===r||void 0===r?void 0:r.flagged)||!1,onClick:function(){e.currentQuestionIndexState[1](n)},selected:e.currentQuestionIndexState[0]==n},n)}))})}var te=Q({display:"flex",flexShrink:1,flexDirection:"column",alignContent:"baseline",textAlign:"center",width:"4em"}),ne=Q({padding:"0.3em",height:"1.2em",boxShadow:"1px 0 0 0 #606060, 0 1px 0 0 #606060, 1px 1px 0 0 #606060, /* corner */ 1px 0 0 0 #606060 inset, 0 1px 0 0 #606060 inset"}),re=Q({outline:"5px solid ".concat(S),marginInline:"4px",color:"black"}),se=Q({margin:"auto"});function ie(e){var t;return Object(v.jsxs)("div",{style:Object(w.a)(Object(w.a)({},te),{},{backgroundColor:k},e.selected?re:{}),onClick:e.onClick,children:[Object(v.jsx)("div",{style:Object(w.a)(Object(w.a)({},ne),{},{borderBottom:"thin solid #606060"},e.selected?{fontWeight:"bold"}:{}),children:Object(v.jsx)("p",{style:se,children:e.index+1})}),Object(v.jsx)("div",{style:Object(w.a)(Object(w.a)({},ne),{},{backgroundColor:e.flagged?C:e.letter?I:"white"}),children:Object(v.jsxs)("p",{style:se,children:[(null===(t=e.letter)||void 0===t?void 0:t.toUpperCase())||" ",e.flagged&&"?"]})})]})}var ce={ing:"Inglese",mat:"Matematica",com:"Comprensione",fis:"Fisica"},ae=["ing","mat","com","fis"];var le=Q({display:"flex",justifyContent:"space-between"}),oe=Q({display:"flex",alignItems:"baseline",flexDirection:"row",gap:"15px",fontSize:"11pt"});function de(e){var t=Object(a.a)(e.sectionState,2),n=t[0],r=t[1];return Object(v.jsxs)("div",{style:le,children:[Object(v.jsxs)("div",{style:oe,children:[Object(v.jsx)("div",{children:Object(v.jsxs)("p",{children:["Sezione: ",ce[n]," ",Object(v.jsx)("br",{}),"Riposte: ",e.answers[n].length," /"," ",e.questions[n].length," (",e.answers[n].reduce((function(e,t){return e+(t.flagged?1:0)}),0)," ","da rivedere)"]})}),Object(v.jsx)(z,{label:"Chiudi sezione",onClick:function(){var t=function(e){var t=ae.findIndex((function(t){return t==e}));return ae[t+1]}(n);t?r(t):e.viewState[1]("TOL-end")}})]}),Object(v.jsx)("p",{children:"Placeholder: timer"})]})}function je(e){var t=Object(r.useState)(0),n=Object(a.a)(t,2),s=n[0],i=n[1],c=Object(a.a)(e.sectionState,2),l=c[0],o=c[1],d=Object(r.useState)(!1),j=Object(r.useState)(),u=function(t){var n=e.answersState[0][l][t];return d[1]((null===n||void 0===n?void 0:n.flagged)||!1),j[1]((null===n||void 0===n?void 0:n.letter)||void 0),i(t)},b=[s,u],x=function(e){var t=(s+e+p.length)%p.length||0;return u(t)};if(!e.questions)return Object(v.jsx)("span",{children:"Loading..."});var p=e.questions[e.sectionState[0]],O=p[s],f=e.answersState[0][l][s];return Object(v.jsxs)("div",{children:[Object(v.jsx)(de,{sectionState:[l,function(){u(0),o.apply(void 0,arguments)}],viewState:e.viewState,questions:e.questions,answers:e.answersState[0]}),Object(v.jsx)(ee,{currentQuestionIndexState:b,sectionAnswers:e.answersState[0][e.sectionState[0]],sectionQuestions:p}),Object(v.jsx)(X,{currentAnswer:f,questionIndex:s,shiftQuestionIndex:x,sectionQuestions:p}),Object(v.jsx)(Z,{question:O}),Object(v.jsx)(N,{currentAnswer:f,currentQuestion:O,tmpAnswerState:j}),Object(v.jsx)(J,{currentQuestion:O,tmpAnswerState:j,tmpFlaggedState:d,updateAnswer:function(t){var n=e.answersState[0];n[l][s]=t,e.answersState[1](n),x(1)}})]})}var ue=Q({height:"15px",backgroundColor:S}),be=Q({color:"white",margin:"auto .5em",fontSize:"9.5pt"});function xe(e){return Object(v.jsx)("div",{style:ue,children:Object(v.jsx)("p",{style:be,children:e.text||""})})}var pe={ing:30,mat:25,com:1,fis:5};function Oe(){var e=Object(r.useState)(),t=Object(a.a)(e,2),n=t[0],s=t[1],i=Object(r.useState)(),c=Object(a.a)(i,2),l=c[0],o=c[1],d=Object(r.useState)("dbPreview"),j=Object(a.a)(d,2),u=j[0],x=j[1],f=Object(r.useState)("ing"),h=Object(r.useState)({ing:[],mat:[],com:[],fis:[]}),g=Object(r.useState)([]),w=Object(a.a)(g,2),S=w[0],k=w[1];return Object(r.useEffect)((function(){n||function(){return O.apply(this,arguments)}().then((function(e){s(e),o(function(e,t){return Object.fromEntries(Object.entries(e).filter((function(e){var t=Object(a.a)(e,1)[0];return Object.values(p).includes(t)})).map((function(e){var n=Object(a.a)(e,2),r=n[0],s=n[1].filter((function(e){return e.validated})),i=b.a.shuffle(b.a.uniq(s.map((function(e){return e.id})))).slice(0,t[r]);return[r,s.filter((function(e){return i.includes(e.id)}))]})))}(e,pe))})).catch((function(e){k(["There has been an issue while fetching the database data. Please retry later.",e])}))})),Object(v.jsxs)("div",{children:[Object(v.jsx)(F,{viewState:[u,x]}),Object(v.jsx)(xe,{text:"Placeholder top separator text"}),Object(v.jsx)(y,{hidden:!S[0],display:S[0]||"",internal:S[1]}),"dbPreview"==u&&n?Object(v.jsx)(m,{db:n}):l?Object(v.jsx)(je,{questions:l,viewState:[u,x],sectionState:f,answersState:h}):void 0,Object(v.jsx)(xe,{text:"Placeholder bottom separator text"})]})}c.a.render(Object(v.jsx)(s.a.StrictMode,{children:Object(v.jsx)(Oe,{})}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.cbc0331d.chunk.js.map